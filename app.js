window.onload=function(){setTimeout("window.scrollTo(0, 1)",20);var b=new Main;createjs.Tween.get(b,{ignoreGlobalPause:!0}).wait(100).call(b.init,[],b)};
var Main=function(){function b(){this._isResizing=this._isNeedResize=this._isGlobalPause=!1;this._lastTime=Date.now();this._bgStage=new createjs.Stage("bgStage");this._mainStage=new createjs.Stage("mainStage");var a=this._bgStage.canvas;a.width=Config.STAGE_W;a.height=Config.STAGE_H_MAX;a=this._mainStage.canvas;a.width=Config.STAGE_W;a.height=Config.STAGE_H_MIN;this.addCheckFocus()}b.prototype.init=function(){var a=this;this._managerBg=new ManagerBg;this._bgStage.addChild(this._managerBg);this._core=
new Core(this._managerBg);this._mainStage.addChild(this._core);this._bgStage.update();this._mainStage.update();createjs.Touch.enable(this._mainStage);createjs.Ticker.timingMode=createjs.Ticker.RAF;createjs.Ticker.setFPS(30);createjs.Ticker.on(GameEvent.UPDATE,this.update,this);this.prepareResize();window.addEventListener(GUIEvent.RESIZE,function(){return a.prepareResize()});window.addEventListener(GUIEvent.ORIENTATION_CHANGE,function(){return a.prepareResize()})};b.prototype.prepareResize=function(){createjs.Ticker.setPaused(!0);
this._isNeedResize=!0;this._lastTime=Date.now();var a=navigator.userAgent.toLowerCase();-1<a.indexOf("mozilla/5.0")&&-1<a.indexOf("android ")&&-1<a.indexOf("applewebkit")&&-1<a.indexOf("version")&&this._mainStage.removeChild(this._core);this._bgStage.update();this._mainStage.update()};b.prototype.resizeHandler=function(){var a=window.innerWidth,c=window.innerHeight,b=0,d=0,e=0,g=0,h=a/c,k=Config.STAGE_W/Config.STAGE_H_MIN,l=Config.STAGE_W/Config.STAGE_H_MAX;h>=k?(e=b=c*k,d=c,g=e/l):h<k&&(h>=k?(b=
a,d=c):h<k&&(b=a,d=a/k),h>=l?(e=a,g=a/l):h<l&&(e=a,g=a/l));e=.5+e|0;g=.5+g|0;b=.5+b|0;d=.5+d|0;a=document.getElementById("wrapper");a.style.marginLeft=(.5*-b+.5|0)+"px";a.style.marginTop=Math.round(.5*-d)+"px";a=this._bgStage.canvas;a.style.marginTop=-((g-d>>1)+.5|0)+"px";a.style.width=e+"px";a.style.height=g+"px";a=this._mainStage.canvas;a.style.width=b+"px";a.style.height=d+"px";b=50;d=navigator.userAgent.toLowerCase();-1<d.indexOf("mozilla/5.0")&&-1<d.indexOf("android ")&&-1<d.indexOf("applewebkit")&&
-1<d.indexOf("version")&&(b=500);createjs.Tween.get(this,{ignoreGlobalPause:!0}).wait(b).call(this.afterTimeout,[],this)};b.prototype.afterTimeout=function(){var a=navigator.userAgent.toLowerCase();-1<a.indexOf("mozilla/5.0")&&-1<a.indexOf("android ")&&-1<a.indexOf("applewebkit")&&-1<a.indexOf("version")&&this._mainStage.addChild(this._core);this._bgStage.update();this._mainStage.update();this._isResizing=this._isNeedResize=!1;createjs.Ticker.setPaused(!1)};b.prototype.addCheckFocus=function(){window.isActive=
"visible";"hidden"in document?document.addEventListener("visibilitychange",this.changeHandler):"mozHidden"in document?document.addEventListener("mozvisibilitychange",this.changeHandler):"webkitHidden"in document?document.addEventListener("webkitvisibilitychange",this.changeHandler):"msHidden"in document?document.addEventListener("msvisibilitychange",this.changeHandler):"onfocusin"in document&&(document.onfocusin=document.onfocusout=this.changeHandler);window.onpageshow=window.onpagehide=window.onfocus=
window.onblur=this.changeHandler};b.prototype.changeHandler=function(a){var c={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};a=a||window.event;a.type in c?"hidden"==c[a.type]&&"visible"==window.isActive?(window.isActive="hidden",b.prevState=a.type,GameBranding.adsPause()):"visible"==c[a.type]&&"hidden"==window.isActive&&(window.isActive="visible",b.prevState=a.type,GameBranding.adsResume()):(b.counterVisible++,b.prevState!=a.type&&"visible"==
window.isActive&&1==b.counterVisible?(window.isActive="hidden",b.prevState=a.type,GameBranding.adsPause()):b.prevState==a.type&&"hidden"==window.isActive&&(window.isActive="visible",b.prevState="focus",b.counterVisible=0,GameBranding.adsResume()))};b.prototype.update=function(a){!this._isGlobalPause&&createjs.Ticker.getPaused()?(this._isGlobalPause=!0,Hero.currentTween&&Hero.currentTween.setPaused(!0)):this._isGlobalPause&&!createjs.Ticker.getPaused()&&(this._isGlobalPause=!1,Hero.currentTween&&Hero.currentTween.setPaused(!1));
this._core.update();if(!this._isNeedResize&&!this._isResizing)this._mainStage.update(a);else if(this._isNeedResize&&!this._isResizing&&50<Date.now()-this._lastTime){this._isResizing=!0;a=50;var c=navigator.userAgent.toLowerCase();-1<c.indexOf("mozilla/5.0")&&-1<c.indexOf("android ")&&-1<c.indexOf("applewebkit")&&-1<c.indexOf("version")&&(a=500);createjs.Tween.get(this,{ignoreGlobalPause:!0}).wait(a).call(this.resizeHandler,[],this)}};b.prevState="focus";b.counterVisible=0;return b}(),Config=function(){function b(){}
b.WIDTH=9;b.HEIGHT=9;b.SIZE_W=60;b.SIZE_H=60;b.STAGE_W=640;b.STAGE_H_MIN=750;b.STAGE_H_MAX=1138;b.MARGIN_TOP=150;b.PADDING=194;b.GAME_NAME="Knight";b.GAME_VERSION="1.1.3";return b}(),Hints=function(){function b(){}b.texts={0:[58,455,0],1:[200,280,2],2:[166,520,3],7:[66,520,4]};b.holes={0:[{x:82,y:542,r:35}],1:[{x:142,y:243,r:35},{x:383,y:663,r:35},{x:562,y:365,r:35},{x:442,y:183,r:30},{x:442,y:243,r:30},{x:442,y:303,r:30},{x:442,y:363,r:30}],2:[{x:262,y:642,r:70}],7:[{x:142,y:603,r:35}]};b.textsAfterAction=
{0:[240,344,1]};b.holesAfterAction={0:[{x:263,y:482,r:45},{x:502,y:242,r:35},{x:442,y:484,r:35}]};return b}(),Progress=function(){function b(){}b.levelsCompleted=20;b.currentLevel=0;b.starsAllLevels=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]];b.achs=[0,0,0,0,0,0,0,0,0,0,0,0];b.hintAchs="Let an arrow \rkill the knight,Obtain the entire outfit \rand kill the beast,Complete a level \rwithout the outfit,Collect the entire outfit \rfrom every level,Find a trap \rand step on it,Activate the windmill \rcoming up to it,Collect ten helmets \rfrom any ten levels,The knight has to die ;),Collect ten shields \rfrom any ten levels,Complete any ten levels \rwithout dying,Collect ten swords \rfrom any ten levels,Make a step \rsidewards from the arrow \rafter it's been shot".split(",");
return b}(),AchController=function(){function b(){this._currentParam=-1;this._params=[0,0,0,0,0,0,0,0,0,0,0];b.instance=this}b.prototype.addParam=function(a){this._params[a]++;this._currentParam=a;this.checkAchievements(a)};b.prototype.checkAchievements=function(a){a=Progress.achs;for(var c=0;c<a.length;c++)if(1!=a[c])switch(c){case b.ACH_CATCH_ARROW:0<this._params[b.HERO_DEAD_BY_ARROW]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_KILL_MONSTER:0<this._params[b.MONSTER_DEAD]&&(a[c]=1,this.letAchievement(c));
break;case b.ACH_NO_TAKE_ITEMS:0<this._params[b.LEVEL_WITHOUT_ITEMS]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_TAKE_ALL_ITEMS:20<=this._params[b.HELMET_TAKED]&&20<=this._params[b.SWORD_TAKED]&&20<=this._params[b.SHIELD_TAKED]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_STEP_ON_TRAP:0<this._params[b.HERO_DEAD_BY_TRAP]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_LAUNCH_MILL:0<this._params[b.MILL_LAUNCHED]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_10_HELMETS:10<=this._params[b.HELMET_TAKED]&&
(a[c]=1,this.letAchievement(c));break;case b.ACH_FIRST_DEATH:if(0<this._params[b.HERO_DEAD_BY_ARROW]||0<this._params[b.HERO_DEAD_BY_MONSTER]||0<this._params[b.HERO_DEAD_BY_TRAP])a[c]=1,this.letAchievement(c);break;case b.ACH_10_SHIELDS:10<=this._params[b.SHIELD_TAKED]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_10_LEVELS_WITHOUT_DEATH:10<=this._params[b.LEVEL_WITHOUT_DEATH]&&(a[c]=1,this.letAchievement(c));break;case b.ACH_10_SWORDS:10<=this._params[b.SWORD_TAKED]&&(a[c]=1,this.letAchievement(c));
break;case b.ACH_FAST_REACTION:0<this._params[b.AWAY_FROM_ARROW]&&(a[c]=1,this.letAchievement(c));break;default:alert("unknown achievement "+c)}};b.prototype.letAchievement=function(a){this._icon.visible&&this.removeAchievement();this._icon.image=ImagesRes.getImage(ImagesRes.ICON_ACH+a.toString());this._icon.visible=!0;createjs.Tween.get(this._icon,{ignoreGlobalPause:!0}).to({scaleX:1.5,scaleY:1.5,alpha:1},400,createjs.Ease.quadInOut).to({scaleX:.8,scaleY:.8,alpha:1},400,createjs.Ease.quadInOut).to({scaleX:1.3,
scaleY:1.3,alpha:1},400,createjs.Ease.quadInOut).to({scaleX:.6,scaleY:.6,alpha:1},400,createjs.Ease.quadInOut).to({scaleX:1,scaleY:1,alpha:1},400,createjs.Ease.quadInOut).call(this.hideAchievement,[],this)};b.prototype.hideAchievement=function(){createjs.Tween.get(this._icon,{ignoreGlobalPause:!0}).to({scaleX:.3,scaleY:.3,alpha:0},400,createjs.Ease.quadInOut).call(this.removeAchievement,[],this)};b.prototype.removeAchievement=function(){createjs.Tween.removeTweens(this._icon);this._icon.visible=!1;
this._icon.alpha=0};b.prototype.init=function(a){var c=ImagesRes.getImage(ImagesRes.ICON_ACH+0),c=new createjs.Bitmap(c);c.mouseEnabled=!1;c.snapToPixel=!0;a.addChild(c);c.regX=36;c.regY=36;c.x=320;c.y=70;this._icon=c;this._icon.visible=!1;this._icon.alpha=0};b.ACH_CATCH_ARROW=0;b.ACH_KILL_MONSTER=1;b.ACH_NO_TAKE_ITEMS=2;b.ACH_TAKE_ALL_ITEMS=3;b.ACH_STEP_ON_TRAP=4;b.ACH_LAUNCH_MILL=5;b.ACH_10_HELMETS=6;b.ACH_FIRST_DEATH=7;b.ACH_10_SHIELDS=8;b.ACH_10_LEVELS_WITHOUT_DEATH=9;b.ACH_10_SWORDS=10;b.ACH_FAST_REACTION=
11;b.HERO_DEAD_BY_MONSTER=0;b.HERO_DEAD_BY_ARROW=1;b.HERO_DEAD_BY_TRAP=2;b.MONSTER_DEAD=3;b.LEVEL_WITHOUT_ITEMS=4;b.MILL_LAUNCHED=5;b.HELMET_TAKED=6;b.SHIELD_TAKED=7;b.SWORD_TAKED=8;b.LEVEL_WITHOUT_DEATH=9;b.AWAY_FROM_ARROW=10;return b}(),__extends=this.__extends||function(b,a){function c(){this.constructor=b}for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);c.prototype=a.prototype;b.prototype=new c},Core=function(b){function a(c){b.call(this);this._isRestarted=!1;a.instance=this;this.snapToPixel=!0;
this.ga=window.gaTracker;a.instance.api=null;this.bg=c;this.name="core";this._preloader=new Preloader;this.addChild(this._preloader);this._preloader.on(GameEvent.COMPLETE,this.init,this)}__extends(a,b);a.prototype.init=function(c){this._preloader.removeAllEventListeners();this.model=new Model;ImagesRes.init();this._preloader.initProgress();this._preloader.on(GameEvent.COMPLETE,this.initCompleted,this)};a.prototype.initCompleted=function(){JSONRes.init();ImagesRes.initAnimations();this.bg.init();this.ga&&
a.instance.ga.send("pageview","/InitMainMenu");new SoundManager;this.model.loadProgress();(new AchController).init(this);this.addView(View.MAIN_MENU);SoundManager.instance.setLocation(SoundManager.MUSIC_MENU);this._preloader.removeAllEventListeners();this.removeChild(this._preloader);this._preloader=null};a.prototype.restartHandler=function(c){c.stopPropagation();this._isRestarted=!0;this.addBlind()};a.prototype.completeHandler=function(c){Progress.currentLevel++;this._isRestarted||AchController.instance.addParam(AchController.LEVEL_WITHOUT_DEATH);
this._isRestarted=!1;a.instance.api?(GameBranding.adsPause(),a.instance.api.showAd(this.goAfterAds)):this.addBlind()};a.prototype.goAfterAds=function(){GameBranding.adsResume();a.instance.addBlind()};a.prototype.setLevel=function(c){""!=c&&(this._isRestarted=!1,Progress.currentLevel=+c)};a.prototype.startGame=function(c){c=new Game;this.addChildAt(c,this.getNumChildren()-1);c.createHint();c.on(GameEvent.RESTART,this.restartHandler,this);c.on(GameEvent.LEVEL_COMPLETE,this.completeHandler,this);this._currentView=
c;c.on(GUIEvent.GOTO_WINDOW,this.gotoHandler,this)};a.prototype.addBlind=function(){this._blind||(this._blind=new Blind,this.addChild(this._blind),this._blind.on(GUIEvent.BLIND_CLOSED,this.removeView,this),this._blind.on(GUIEvent.BLIND_CLOSED,this.startGame,this),this._blind.on(GameEvent.COMPLETE,this.removeBlind,this))};a.prototype.removeBlind=function(c){this._blind.removeAllEventListeners();this.removeChild(this._blind);this._blind.destroy();this._blind=null};a.prototype.addView=function(c){switch(c){case View.MAIN_MENU:this._currentView=
new MainMenu;break;case View.CREDITS:this._currentView=new Credits;break;case View.LEVELS:this._currentView=new Levels;this._currentView.on(GameEvent.GOTO_LEVEL,this.gotoLevelHandler,this);break;case View.INTRO:this._currentView=new Intro;break;case View.ACHS:this._currentView=new Achievements}this.addChild(this._currentView);this._currentView.on(GUIEvent.GOTO_WINDOW,this.gotoHandler,this)};a.prototype.removeView=function(c){this._currentView&&(this.removeChild(this._currentView),this._currentView.removeAllEventListeners(),
this._currentView.destroy(),this._currentView=null)};a.prototype.gotoHandler=function(c){this._currentView instanceof Game&&SoundManager.instance.setLocation(SoundManager.MUSIC_MENU);this.removeView();c.window==View.GAME?(SoundManager.instance.setLocation(SoundManager.MUSIC_GAME),this.addBlind()):this.addView(c.window)};a.prototype.gotoLevelHandler=function(c){this.removeView();"0"!=c.objectType?(SoundManager.instance.setLocation(SoundManager.MUSIC_GAME),this.setLevel(c.objectType),this.addBlind()):
(Progress.currentLevel=0,this.addView(View.INTRO))};a.prototype.update=function(){this._currentView instanceof Game&&this._currentView.update()};return a}(createjs.Container),Debuger=function(b){function a(){b.call(this);this.visible=!1;this.x=Config.STAGE_W-Config.WIDTH*Config.SIZE_W>>1;this.y=Config.MARGIN_TOP}__extends(a,b);a.prototype.createGrid=function(){var c=new createjs.Graphics,a=new createjs.Shape(c);this.addChild(a);var a=Config.SIZE_W-.3,b=Config.SIZE_H-.3,e;for(e=0;e<=Config.HEIGHT;e++)c.beginStroke("#777777"),
c.moveTo(0,e*b),c.lineTo(Config.WIDTH*a,e*b);for(e=0;e<=Config.WIDTH;e++)c.beginStroke("#777777"),c.moveTo(e*a,0),c.lineTo(e*a,b*Config.HEIGHT)};a.prototype.turnOnOff=function(){if(this.visible=!this.visible){this.createGrid();for(var c=Core.instance.model.grid,a,b,e=0;e<c.length;e++){b="";for(a=0;a<c[e].types.length;a++)b=c[e].types[a]==ImagesRes.BOULDER_MARK||c[e].types[a]==ImagesRes.ARROW?b+(c[e].types[a]+"\r"):b+(c[e].types[a]+" "+c[e].objects[a].parent.getChildIndex(c[e].objects[a])+"\r");a=
c[e].getFirstIndex().toString();a=new createjs.Text(a,"12px Arial","#000000");this.addChild(a);a.x=c[e].x;a.y=c[e].y;a.text="i: "+e+"\r index: "+a.text+"\r "+b}}else this.removeAllChildren()};return a}(createjs.Container),View=function(b){function a(){b.call(this);this.on(GUIEvent.MOUSE_CLICK,this.clickHandler,this)}__extends(a,b);a.prototype.clickHandler=function(c){c.stopPropagation();if(c.target.parent.name||c.target.parent.parent){var b;c.target.parent.name==a.MORE_GAMES?GameBranding.clickMoreHandler(c):
c.target.parent.parent instanceof LevelButton?(b=new GameEvent(GameEvent.GOTO_LEVEL),b.objectType=c.target.parent.parent.name,this.dispatchEvent(b)):c.target.parent.name&&(b=new GUIEvent(GUIEvent.GOTO_WINDOW),b.window=c.target.parent.name,this.dispatchEvent(b))}};a.prototype.addMill=function(c){void 0===c&&(c=!0);var a=ImagesRes.getImage(ImagesRes.UI_MILL);this._vane=new createjs.Bitmap(a);this._vane.snapToPixel=!0;this._vane.x=556+(a.width>>1);this._vane.y=572+(a.height>>1);this._vane.regX=a.width>>
1;this._vane.regY=a.height>>1;this._vane.rotation=9;this.addChildAt(this._vane,1);c&&this.rotateMill()};a.prototype.rotateMill=function(){this._vane.rotation=9;createjs.Tween.get(this._vane).to({rotation:369},2E3,createjs.Ease.linear).call(this.rotateMill,[],this)};a.prototype.destroy=function(){this.removeAllEventListeners();this.removeAllChildren();this._vane&&(createjs.Tween.removeTweens(this._vane),this._vane=null)};Object.defineProperty(a.prototype,"vane",{get:function(){return this._vane},enumerable:!0,
configurable:!0});a.MAIN_MENU="mainMenu";a.LEVELS="levels";a.GAME="game";a.CREDITS="credits";a.INTRO="intro";a.ACHS="achs";a.MORE_GAMES="more";a.currentBg="";return a}(createjs.Container),Game=function(b){function a(){b.call(this);this._poolPoints=[];this._activePoints=[];this._isStartArrowCheck=!1;this._model=Core.instance.model;this._grid=this._model.grid;this.x=Config.STAGE_W-Config.WIDTH*Config.SIZE_W>>1;this.y=Config.MARGIN_TOP;this.createGUI();this._level=new Level(this,this._model);this._hero=
this._level.hero;this._mill=this._level.mill;this._units=this._level.units;this._items=this._level.items;this._pathfinder=new Pathfinder;var c=new createjs.Graphics,a=new createjs.Shape;c.beginFill("rgba(255,255,255, 1)");c.drawRect(0,0,Config.WIDTH*Config.SIZE_W,Config.HEIGHT*Config.SIZE_H);c.endFill();a.snapToPixel=!0;a.hitArea=new createjs.Shape(c);this.addChildAt(a,0);this.on(GUIEvent.MOUSE_DOWN,this.movedownHandler,this);this.on(GameEvent.COLLISION,this.collisionProcess,this);this._hero.on(GameEvent.LEVEL_COMPLETE,
this.showVictory,this);this._hero.on(GameEvent.HERO_REACHED,this.reachedHandler,this);this._hero.on(GameEvent.HERO_ONE_CELL_AWAY,this.hideLastPoint,this);this._hero.on(GameEvent.HERO_GET_TRAP,this.getTrapHandler,this);this._targetMark=new TargetMark;this.addChild(this._targetMark);for(c=0;15>c;c++)this.createPathPoint();Core.instance.ga&&Core.instance.ga.send("pageview","/StartLevel-"+(Progress.currentLevel+1))}__extends(a,b);a.prototype.getTrapHandler=function(c){createjs.Tween.get(this).wait(100).call(this.hideActors,
[null],this);this.showBoom()};a.prototype.movedownHandler=function(c){if(this._hero.state!=Hero.IDLE)this._hero.stop();else if(!(c.target.parent instanceof Button)){var a=this.globalToLocal(c.stageX,c.stageY),b=Utils.getIndex(a.x,a.y);if(0!=Progress.currentLevel||10!=this._hero.index||54==b)if(c.target instanceof MillPress&&Utils.isNeighbours(b,this._hero.index)&&c.target.startRotateMill(),!this._grid[b].isWall&&(this._pathfinder.init(Config.WIDTH,Config.HEIGHT,this._grid),this._pathfinder.findPath(this._hero.index,
b),0<this._pathfinder.path.length&&(!this._grid[b].isContainType(ImagesRes.MILL)||c.target instanceof MillPress))){a=this._pathfinder.path;c.target instanceof MillPress&&a.pop();if(0<this._pathfinder.path.length){this.removeHint();this._targetMark.placeByTap(b);this.showPath(this._pathfinder.path);for(var e in this._units)if(b=this._units[e],this._units[e]instanceof TowerArrow&&b.y==this._hero.y+5&&b.isShooted()){this._isStartArrowCheck=!0;break}this._hero.moveToCell(a)}c.target instanceof MillPress&&
c.target.activate()}}};a.prototype.activateItems=function(){for(var c=this._items.length,a=0;a<c;a++)this._items[a]instanceof Tower||this._items[a].activate()};a.prototype.reachedHandler=function(c){this._isStartArrowCheck&&(AchController.instance.addParam(AchController.AWAY_FROM_ARROW),this._isStartArrowCheck=!1);this.hidePoints();0==Progress.currentLevel&&54==this._hero.index&&this.createHintAfterAction();-1!=Utils.findAround(this._grid,this._hero.index,ImagesRes.MILL)&&this._mill.state!=Unit.ON&&
(this._mill.startRotateMill(),this.activateItems())};a.prototype.collisionProcess=function(c){c.stopPropagation()};a.prototype.animationCompleteHandler=function(c){c=c.currentTarget;c.removeAllEventListeners();this.removeChild(c)};a.prototype.createGUI=function(){Core.instance.bg.addBitmaps([{type:ImagesRes.GAME_BG,x:0,y:0},{type:ImagesRes.UI_LEVEL_BOARD,x:50,y:254},{type:ImagesRes.SPEAR_UI+"1",x:-280,y:243},{type:ImagesRes.SPEAR_UI+"0",x:292,y:200}]);var c=new createjs.Container;this.addChild(c);
c.y=-130;this._buttonSound=new Button(ImagesRes.BUTTON_SOUND_ON,ImagesRes.BUTTON_SOUND_ON_OVER,ImagesRes.BUTTON_SOUND_OFF,ImagesRes.BUTTON_SOUND_OFF_OVER);c.addChild(this._buttonSound);this._buttonSound.x=Config.STAGE_W-this._buttonSound.width-55;this._buttonSound.y=1;this._buttonSound.name="";this._buttonMenu=new Button(ImagesRes.BUTTON_MENU,ImagesRes.BUTTON_MENU_OVER);c.addChild(this._buttonMenu);this._buttonMenu.x=this._buttonSound.x-this._buttonMenu.width-12;this._buttonMenu.name="";this._buttonMenu.y=
-4;this._buttonMenu.on(GUIEvent.MOUSE_CLICK,this.menuClickHandler,this);this._buttonRestart=new Button(ImagesRes.BUTTON_RESET,ImagesRes.BUTTON_RESET_OVER);c.addChild(this._buttonRestart);this._buttonRestart.x=this._buttonMenu.x-this._buttonRestart.width-12;this._buttonRestart.y=-8;this._buttonRestart.name="";this._buttonRestart.on(GUIEvent.MOUSE_CLICK,this.restartClickHandler,this);var a=new createjs.Text((Progress.currentLevel+1).toString(),"33px Georgia","#301213");c.addChild(a);a.mouseEnabled=
!1;a.snapToPixel=!0;a.x=92;a.y=72;this.addMill(!1);this.vane.x-=this.x;this.vane.y-=52};a.prototype.menuClickHandler=function(c){c=new GUIEvent(GUIEvent.GOTO_WINDOW);c.window=View.LEVELS;this.dispatchEvent(c)};a.prototype.restartClickHandler=function(c){this.dispatchEvent(new GameEvent(GameEvent.RESTART))};a.prototype.createHint=function(){if(Hints.texts[Progress.currentLevel]){var c=Hints.texts[Progress.currentLevel],a=new createjs.Graphics,b=new createjs.Shape(a);Core.instance.addChild(b);b.alpha=
.7;this._helpShape=b;a.beginFill("#333333");a.drawRect(0,0,Config.STAGE_W,Config.STAGE_H_MAX);for(var b=Hints.holes[Progress.currentLevel],e=0;e<b.length;e++)a.arc(b[e].x,b[e].y,b[e].r,0,2*Math.PI,!0).closePath();a.endFill();a=new createjs.Bitmap(ImagesRes.getImage(ImagesRes.HELP+c[2]));a.mouseEnabled=!1;a.snapToPixel=!0;Core.instance.addChild(a);this._help=a;a.x=c[0];a.y=c[1];a=new createjs.Graphics;b=new createjs.Shape(a);a.beginFill("#333333");a.drawRect(0,0,Config.STAGE_W,Config.PADDING);a.endFill();
b.snapToPixel=!0;b.alpha=.7;Core.instance.bg.addChild(b);this._top=b;b=new createjs.Shape(a);b.snapToPixel=!0;b.alpha=.7;b.y=Config.PADDING+Config.STAGE_H_MIN;Core.instance.bg.addChild(b);this._bottom=b;Core.instance.bg.update()}};a.prototype.createHintAfterAction=function(){if(Hints.textsAfterAction[Progress.currentLevel]){var c=Hints.textsAfterAction[Progress.currentLevel],a=new createjs.Graphics,b=new createjs.Shape(a);Core.instance.addChild(b);b.alpha=.7;this._helpShape=b;a.beginFill("#333333");
a.drawRect(0,0,Config.STAGE_W,Config.STAGE_H_MAX);for(var b=Hints.holesAfterAction[Progress.currentLevel],e=0;e<b.length;e++)a.arc(b[e].x,b[e].y,b[e].r,0,2*Math.PI,!0).closePath();a.endFill();a=new createjs.Bitmap(ImagesRes.getImage(ImagesRes.HELP+c[2]));a.mouseEnabled=!1;a.snapToPixel=!0;Core.instance.addChild(a);this._help=a;a.x=c[0];a.y=c[1];a=new createjs.Graphics;b=new createjs.Shape(a);a.beginFill("#333333");a.drawRect(0,0,Config.STAGE_W,Config.PADDING);a.endFill();b.snapToPixel=!0;b.alpha=
.7;Core.instance.bg.addChild(b);this._top=b;b=new createjs.Shape(a);b.snapToPixel=!0;b.alpha=.7;b.y=Config.PADDING+Config.STAGE_H_MIN;Core.instance.bg.addChild(b);this._bottom=b;Core.instance.bg.update()}};a.prototype.removeHint=function(){this._help&&(Core.instance.removeChild(this._help),Core.instance.removeChild(this._helpShape),this._helpShape=this._help=null,Core.instance.bg.removeChild(this._top),Core.instance.bg.removeChild(this._bottom),Core.instance.bg.update(),this._bottom=this._top=null)};
a.prototype.showVictory=function(){Core.instance.ga&&Core.instance.ga.send("pageview","/LevelComplete-"+(Progress.currentLevel+1));Progress.currentLevel<Progress.starsAllLevels.length-1?this.parent.addChild(new Victory(this)):this.parent.addChild(new GameVictory(this))};a.prototype.update=function(){this.checkCollision(this._units,-30,30,-30,30)};a.prototype.checkCollision=function(c,a,b,e,g){var h,k=this._hero.x+.5*+Config.SIZE_W,l=this._hero.y+.5*+Config.SIZE_H,m,p,n;for(n in c)if(h=c[n].view.parent,
m=h.x+.5*Config.SIZE_W,p=h.y+.5*Config.SIZE_H,k>m+a&&k<m+b&&l>p+e&&l<p+g&&this._hero.state!=Hero.DEATH){h instanceof Monster&&(a=h,b=this._items.indexOf(a),this._items.splice(b,1),this.removeChild(a));c[n]=null;delete c[n];this._hero.stateItems!=Hero.FULL?(h instanceof Monster?AchController.instance.addParam(AchController.HERO_DEAD_BY_MONSTER):h instanceof TowerArrow&&AchController.instance.addParam(AchController.HERO_DEAD_BY_ARROW),createjs.Tween.get(this).wait(100).call(this.hideActors,[h],this),
this._hero.state=Hero.DEATH,this.showBoom(),Core.instance.api&&Core.instance.api.gameOver()):h instanceof Monster&&(AchController.instance.addParam(AchController.MONSTER_DEAD),createjs.Tween.get(this).wait(100).call(this.hideActors,[h,!1],this),this.showBoom(ImagesRes.A_ATTACK_BOOM));break}};a.prototype.hideActors=function(c,a){void 0===a&&(a=!0);c&&(c.stop(),this._hero.stop(),c.view.visible=!1,c.destroy());a&&(this._hero.visible=!1)};a.prototype.showBoom=function(c){void 0===c&&(c=ImagesRes.A_BOOM);
var a=new createjs.Sprite(JSONRes.atlas1,c);a.framerate=30;a.mouseEnabled=!1;a.x=this._hero.x-(100-Config.SIZE_W>>1);a.y=this._hero.y-(150-Config.SIZE_H>>1);this.addChild(a);a.on(GameEvent.ANIMATION_COMPLETE,this.boomCompleteHandler,this);a.gotoAndPlay(c)};a.prototype.boomCompleteHandler=function(c){c.currentTarget.visible=!1;c.currentTarget.removeAllEventListeners();c.currentTarget.stop();this._hero.stateItems!=Hero.FULL&&this.restartClickHandler()};a.prototype.showPath=function(c){for(var a=0;a<
c.length;a++)this._poolPoints.length<c.length&&this.createPathPoint(),createjs.Tween.get(this).wait(50*a).call(this.appearPoint,[c[a]],this)};a.prototype.appearPoint=function(c){var a=this._poolPoints.pop();a.scaleX=a.scaleY=0;a.x=this._grid[c].x+.5*Config.SIZE_W+2;a.y=this._grid[c].y+.5*Config.SIZE_H+3;a.visible=!0;this._activePoints.push(a);createjs.Tween.get(a).to({scaleX:1.2,scaleY:1.2},100,createjs.Ease.quartOut).call(this.reducePoint,[a],this)};a.prototype.reducePoint=function(c){createjs.Tween.get(c).to({scaleX:1,
scaleY:1},60,createjs.Ease.quartIn)};a.prototype.hidePoints=function(){for(;0<this._activePoints.length;){var c=this._activePoints.pop();c.visible=!1;this._poolPoints.push(c)}};a.prototype.hideLastPoint=function(c){0!=this._activePoints.length&&(this._isStartArrowCheck&&(AchController.instance.addParam(AchController.AWAY_FROM_ARROW),this._isStartArrowCheck=!1),c=this._activePoints.shift(),c.visible=!1,this._poolPoints.push(c))};a.prototype.createPathPoint=function(){var c,a;a=ImagesRes.getImage(ImagesRes.TARGET_MARK+
0);c=new createjs.Bitmap(a);c.snapToPixel=!0;this.addChildAt(c,0);c.regX=a.width>>1;c.regY=.5*a.height-3;this._poolPoints.push(c);c.visible=!1};a.prototype.destroy=function(){this.removeAllEventListeners();this._hero.removeAllEventListeners();this._hero.destroy();this._top&&(this._top.graphics.clear(),this._bottom.graphics.clear(),Core.instance.bg.removeChild(this._top),Core.instance.bg.removeChild(this._bottom),Core.instance.bg.update(),this._bottom=this._top=null,this._helpShape.graphics.clear(),
Core.instance.removeChild(this._help),Core.instance.removeChild(this._helpShape),this._helpShape=this._help=null);this.removeAllEventListeners();this.removeHint();this._pathfinder.destroy();this._pathfinder=null;for(var c=this._grid,a=c.length,b=0;b<a;b++)c[b].clear();this.removeAllChildren();this._level.destroy();this._targetMark=this._items=this._units=null;this._poolPoints.length=0;this._poolPoints=null;this._activePoints.length=0;this._buttonRestart=this._buttonSound=this._buttonMenu=this._mill=
this._level=this._hero=this._model=this._grid=this._activePoints=null};return a}(View),GameBranding=function(){function b(){}b.addLogo=function(a,c,b){};b.clickMoreHandler=function(a){Core.instance.api&&Core.instance.api.moreGamesLink()};b.addSplash=function(){};b.removeSplash=function(){};b.adsPause=function(){createjs.Ticker.setPaused(!0);SoundManager.instance&&SoundManager.instance.isMusic&&(SoundManager.instance.muteOnOff(),b.isSound=!0)};b.adsResume=function(){createjs.Ticker.setPaused(!1);SoundManager.instance&&
b.isSound&&(SoundManager.instance.muteOnOff(),b.isSound=!1)};b.isSound=!1;return b}(),ImagesRes=function(){function b(){}b.init=function(){b.numberImages[b.GRASS]=5;b.numberImages[b.WATER]=3;var a=[{src:"images/ui/help1.png",id:b.HELP+"0"},{src:"images/ui/help2.png",id:b.HELP+"1"},{src:"images/ui/help3.png",id:b.HELP+"2"},{src:"images/ui/help4.png",id:b.HELP+"3"},{src:"images/ui/help5.png",id:b.HELP+"4"},{src:"images/ui/select_level.png",id:b.LEVEL_SELECT_TITLE},{src:"images/ui/Achievemens.png",id:b.ACHIEVEMENS_TITLE},
{src:"images/ui/levelcomplete_center.png",id:b.VICTORY_MID},{src:"images/ui/game_end.png",id:b.FINISH_MID},{src:"images/ui/levelcomplete_head.png",id:b.VICTORY_TOP},{src:"images/ui/levelcomplete_foot.png",id:b.VICTORY_BOTTOM},{src:"images/ui/credits.png",id:b.CREDITS_TITLE},{src:"images/ui/level_back.png",id:b.LEVELS_BG},{src:"images/ui/back_game.png",id:b.GAME_BG},{src:"images/ui/spear_0.png",id:b.SPEAR_UI+"0"},{src:"images/ui/spear_1.png",id:b.SPEAR_UI+"1"},{src:"images/ui/intro1.png",id:b.INTRO_ICON+
"0"},{src:"images/ui/intro2.png",id:b.INTRO_ICON+"1"},{src:"images/ui/intro3.png",id:b.INTRO_ICON+"2"},{src:"music/menu.ogg",type:createjs.LoadQueue.SOUND,id:SoundManager.MUSIC_MENU},{src:"music/game.ogg",type:createjs.LoadQueue.SOUND,id:SoundManager.MUSIC_GAME},{src:"images/ui/mill_paddle_shadow.png",id:b.UI_MILL},{src:"images/ui/stick.png",id:b.UI_STICK},{src:"images/ui/direction_sign.png",id:b.UI_COURSE},{src:"images/ui/helmet_on.png",id:b.UI_STAR_ON+"0"},{src:"images/ui/shield_on.png",id:b.UI_STAR_ON+
"1"},{src:"images/ui/sword_on.png",id:b.UI_STAR_ON+"2"},{src:"images/ui/helmet_off.png",id:b.UI_STAR_OFF+"0"},{src:"images/ui/shield_off.png",id:b.UI_STAR_OFF+"1"},{src:"images/ui/sword_off.png",id:b.UI_STAR_OFF+"2"},{src:"images/ui/mill_paddle.png",id:b.UI_MILL_VANE},{src:"images/ui/level_board.png",id:b.UI_LEVEL_BOARD},{src:"images/ui/button_credits_main_main_state_0.png",id:b.BUTTON_CREDITS},{src:"images/ui/button_credits_main_state_1.png",id:b.BUTTON_CREDITS_OVER},{src:"images/ui/button_joystick_main_state_0.png",
id:b.BUTTON_MORE_MAIN},{src:"images/ui/button_joystick_main_state_1.png",id:b.BUTTON_MORE_OVER_MAIN},{src:"images/ui/button_play_level_complete_state_0.png",id:b.BUTTON_PLAY_LC},{src:"images/ui/button_play_level_complete_state_1.png",id:b.BUTTON_PLAY_OVER_LC},{src:"images/ui/button_play_main_state_0.png",id:b.BUTTON_PLAY_MAIN},{src:"images/ui/button_play_main_state_1.png",id:b.BUTTON_PLAY_OVER_MAIN},{src:"images/ui/button_achievments_main_state_0.png",id:b.BUTTON_ACH},{src:"images/ui/button_achievments_main_state_1.png",
id:b.BUTTON_ACH_OVER},{src:"images/ui/button_sound_on_main_state_0.png",id:b.BUTTON_SOUND_ON},{src:"images/ui/button_sound_on_main_state_1.png",id:b.BUTTON_SOUND_ON_OVER},{src:"images/ui/button_sound_off_main_state_0.png",id:b.BUTTON_SOUND_OFF},{src:"images/ui/button_sound_off_main_state_1.png",id:b.BUTTON_SOUND_OFF_OVER},{src:"images/ui/button_back_levels_state_0.png",id:b.BUTTON_BACK},{src:"images/ui/button_back_levels_state_1.png",id:b.BUTTON_BACK_OVER},{src:"images/ui/desk_level_state_0.png",
id:b.BUTTON_LS},{src:"images/ui/desk_level_state_1.png",id:b.BUTTON_LS_OVER},{src:"images/ui/button_levels_level_complete_state_0.png",id:b.BUTTON_MENU},{src:"images/ui/button_levels_level_complete_state_1.png",id:b.BUTTON_MENU_OVER},{src:"images/ui/button_replay_level_complete_state_0.png",id:b.BUTTON_RESET},{src:"images/ui/button_replay_level_complete_state_1.png",id:b.BUTTON_RESET_OVER},{src:"images/ui/a1.png",id:b.ICON_ACH+"0"},{src:"images/ui/a2.png",id:b.ICON_ACH+"1"},{src:"images/ui/a3.png",
id:b.ICON_ACH+"2"},{src:"images/ui/a4.png",id:b.ICON_ACH+"3"},{src:"images/ui/a5.png",id:b.ICON_ACH+"4"},{src:"images/ui/a6.png",id:b.ICON_ACH+"5"},{src:"images/ui/a7.png",id:b.ICON_ACH+"6"},{src:"images/ui/a8.png",id:b.ICON_ACH+"7"},{src:"images/ui/a9.png",id:b.ICON_ACH+"8"},{src:"images/ui/a10.png",id:b.ICON_ACH+"9"},{src:"images/ui/a11.png",id:b.ICON_ACH+"10"},{src:"images/ui/a12.png",id:b.ICON_ACH+"11"},{src:"images/ui/at1.png",id:b.TEXT_ACH+"0"},{src:"images/ui/at2.png",id:b.TEXT_ACH+"1"},{src:"images/ui/at3.png",
id:b.TEXT_ACH+"2"},{src:"images/ui/at4.png",id:b.TEXT_ACH+"3"},{src:"images/ui/at5.png",id:b.TEXT_ACH+"4"},{src:"images/ui/at6.png",id:b.TEXT_ACH+"5"},{src:"images/ui/at7.png",id:b.TEXT_ACH+"6"},{src:"images/ui/at8.png",id:b.TEXT_ACH+"7"},{src:"images/ui/at9.png",id:b.TEXT_ACH+"8"},{src:"images/ui/at10.png",id:b.TEXT_ACH+"9"},{src:"images/ui/at11.png",id:b.TEXT_ACH+"10"},{src:"images/ui/at12.png",id:b.TEXT_ACH+"11"},{src:"images/tiles/hero.png",id:b.HERO},{src:"images/tiles/monster.png",id:b.MONSTER},
{src:"images/tiles/grass_0.png",id:b.GRASS+0},{src:"images/tiles/grass_1.png",id:b.GRASS+1},{src:"images/tiles/grass_2.png",id:b.GRASS+2},{src:"images/tiles/grass_3.png",id:b.GRASS+3},{src:"images/tiles/grass_4.png",id:b.GRASS+4},{src:"images/tiles/level_helmet.png",id:b.STAR+"0"},{src:"images/tiles/level_shield.png",id:b.STAR+"1"},{src:"images/tiles/level_sword.png",id:b.STAR+"2"},{src:"images/tiles/mill.png",id:b.MILL},{src:"images/tiles/mill_paddle_game.png",id:b.MILL_VANE},{src:"images/tiles/tower.png",
id:b.TOWER},{src:"images/tiles/arrow.png",id:b.ARROW},{src:"images/tiles/castle.png",id:b.EXIT},{src:"images/tiles/boulder.png",id:b.BOULDER},{src:"images/tiles/trap.png",id:b.TRAP},{src:"images/tiles/boulder_mark.png",id:b.BOULDER_MARK},{src:"images/tiles/spikes0.png",id:b.SPIKES+"0"},{src:"images/tiles/spikes1.png",id:b.SPIKES+"1"},{src:"images/tiles/pine_0.png",id:b.PINE+"0"},{src:"images/tiles/pine_1.png",id:b.PINE+"1"},{src:"images/tiles/pine_2.png",id:b.PINE+"2"},{src:"images/tiles/pine_3.png",
id:b.PINE+"3"},{src:"images/tiles/stone1.png",id:b.STONE+"0"},{src:"images/tiles/stone2.png",id:b.STONE+"1"},{src:"images/tiles/stump.png",id:b.STUMP},{src:"images/tiles/water_0.png",id:b.WATER+0},{src:"images/tiles/water_1.png",id:b.WATER+1},{src:"images/tiles/water_2.png",id:b.WATER+2},{src:"images/tiles/bridge_0.png",id:b.BRIDGE+"0"},{src:"images/tiles/bridge_1.png",id:b.BRIDGE+"1"},{src:"images/tiles/target0.png",id:b.TARGET_MARK+"0"},{src:"images/tiles/target1.png",id:b.TARGET_MARK+"1"},{src:"images/tiles/flovers_0.png",
id:b.DECOR+"0"},{src:"images/tiles/flovers_1.png",id:b.DECOR+"1"},{src:"images/tiles/flovers_2.png",id:b.DECOR+"2"},{src:"images/tiles/flovers_3.png",id:b.DECOR+"3"},{src:"images/tiles/flovers_4.png",id:b.DECOR+"4"},{src:"images/animations/knight_full_15fps_0.png",id:JSONRes.ATLAS_0},{src:"images/animations/knight_full_15fps_1.png",id:JSONRes.ATLAS_1},{src:"images/tiles/hero.png",id:b.HERO}];b.loader=new createjs.LoadQueue(!1,"",!0);b.loader.installPlugin(createjs.Sound);createjs.Sound.alternateExtensions=
["m4a"];b.loader.loadManifest(a)};b.initAnimations=function(){b.A_HERO_IDLEs=[{animation:"knight_stay",atlas:JSONRes.atlas0},{animation:"knight_stay_helmet",atlas:JSONRes.atlas0},{animation:"knight_stay_shield",atlas:JSONRes.atlas0},{animation:"knight_stay_sword",atlas:JSONRes.atlas0},{animation:"knight_stay_helmet_shield",atlas:JSONRes.atlas0},{animation:"knight_stay_helmet_sword",atlas:JSONRes.atlas0},{animation:"knight_stay_sword_shield",atlas:JSONRes.atlas0},{animation:"knight_stay_helmet_sword_shield",
atlas:JSONRes.atlas0}];b.A_HERO_MOVEs=[{animation:"knight_walk",atlas:JSONRes.atlas0},{animation:"knight_walk_helmet",atlas:JSONRes.atlas0},{animation:"knight_walk_shield",atlas:JSONRes.atlas0},{animation:"knight_walk_sword",atlas:JSONRes.atlas0},{animation:"knight_walk_helmet_shield",atlas:JSONRes.atlas0},{animation:"knight_walk_helmet_sword",atlas:JSONRes.atlas0},{animation:"knight_walk_sword_shield",atlas:JSONRes.atlas0},{animation:"knight_walk_helmet_sword_shield",atlas:JSONRes.atlas0}];b.A_MONSTER=
{animation:"wolf",atlas:JSONRes.atlas1};b.A_ITEMs={star0:"helmet",star1:"shield",star2:"sword"}};b.getImage=function(a){var c=0;b.numberImages[a]?(c=Math.floor(Math.random()*b.numberImages[a]),a=b.loader.getResult(a+c)):a=b.loader.getResult(a);return a};b.NONE="none";b.HERO="hero";b.GRASS="grass";b.STAR="star";b.EXIT="exit";b.MILL="mill";b.MILL_VANE="millVane";b.WATER="water";b.PINE="pine";b.STONE="stone";b.STUMP="stump";b.MONSTER="wolwpig";b.BRIDGE="brige";b.TOWER="tower";b.ARROW="arrow";b.SPIKES=
"spikes";b.TRAP="trap";b.BOULDER="boulder";b.BOULDER_MARK="boulderMark";b.TARGET_MARK="targetMark";b.DECOR="Decor";b.MAIN_BG="MainBack";b.GAME_BG="GameBack";b.LEVELS_BG="LevelBack";b.PRELOADER_BAR_BG="preloaderBarBg";b.PRELOADER_BAR="preloaderBar";b.SPEAR_UI="spearUI";b.INTRO_ICON="intro";b.UI_MILL="UImill";b.UI_STICK="UIstick";b.UI_COURSE="UIcourse";b.UI_STAR_ON="UIstarOn";b.UI_STAR_OFF="UIstarOff";b.UI_MILL_VANE="UImillVane";b.UI_LEVEL_BOARD="UILevelBoard";b.MAIN_TITLE="MainLogo";b.CREDITS_TITLE=
"Credits";b.LEVEL_SELECT_TITLE="SelectLevel";b.ACHIEVEMENS_TITLE="Achievemens";b.VICTORY_MID="victoryMid";b.FINISH_MID="finishMid";b.VICTORY_TOP="victoryTop";b.VICTORY_BOTTOM="victoryBottom";b.ICON_ACH="IconAch";b.TEXT_ACH="textAch";b.HELP="help";b.BUTTON_CREDITS="button_credits_main_main_state_0";b.BUTTON_CREDITS_OVER="button_credits_main_main_state_01";b.BUTTON_MORE_MAIN="botton_joystick_game_state_02";b.BUTTON_MORE_OVER_MAIN="botton_joystick_game_state_012";b.BUTTON_PLAY_MAIN="button_play_main_state_0";
b.BUTTON_PLAY_OVER_MAIN="button_play_main_state_01";b.BUTTON_PLAY_LC="button_play_main_state_02";b.BUTTON_PLAY_OVER_LC="button_play_main_state_012";b.BUTTON_ACH="button_achievments_main_state_0";b.BUTTON_ACH_OVER="button_achievments_main_state_01";b.BUTTON_SOUND_ON="button_sound_on_main_state_0";b.BUTTON_SOUND_ON_OVER="button_sound_on_main_state_01";b.BUTTON_SOUND_OFF="button_sound_off_main_state_0";b.BUTTON_SOUND_OFF_OVER="button_sound_off_main_state_01";b.BUTTON_BACK="button_back_levels_state_0";
b.BUTTON_BACK_OVER="button_back_levels_state_01";b.BUTTON_LS="desk_level_state_0";b.BUTTON_LS_OVER="desk_level_state_01";b.BUTTON_MENU="button_levels_level_complete_state_0";b.BUTTON_MENU_OVER="button_levels_level_complete_state_01";b.BUTTON_RESET="button_replay_level_complete_state_0";b.BUTTON_RESET_OVER="button_replay_level_complete_state_01";b.A_SMOKE="smoke";b.A_BOOM="boom";b.A_ATTACK_BOOM="boom_sword";b.A_TRAP="trap";b.numberImages={};return b}(),JSONRes=function(){function b(){}b.init=function(){b.levels.push(b.level0);
b.levels.push(b.level1);b.levels.push(b.level2);b.levels.push(b.level3);b.levels.push(b.level4);b.levels.push(b.level5);b.levels.push(b.level6);b.levels.push(b.level7);b.levels.push(b.level8);b.levels.push(b.level9);b.levels.push(b.level10);b.levels.push(b.level11);b.levels.push(b.level12);b.levels.push(b.level13);b.levels.push(b.level14);b.levels.push(b.level15);b.levels.push(b.level16);b.levels.push(b.level17);b.levels.push(b.level18);b.levels.push(b.level19);b.atlas0=new createjs.SpriteSheet(b.getParsedObject([ImagesRes.loader.getResult(b.ATLAS_0)],
[{images:["knight_full_15fps_0.png"],frames:[[1,1,61,82,0,-1.25,-7.05],[63,1,60,82,0,-1.25,-7.05],[124,1,60,81,0,-1.25,-8.05],[185,1,59,81,0,-1.25,-8.05],[245,1,59,81,0,-1.25,-8.05],[305,1,58,81,0,-1.25,-8.05],[364,1,58,81,0,-1.25,-8.05],[423,1,58,81,0,-1.25,-8.05],[482,1,59,81,0,-1.25,-8.05],[542,1,59,81,0,-1.25,-8.05],[602,1,59,81,0,-1.25,-8.05],[662,1,60,82,0,-1.25,-7.05],[723,1,60,82,0,-1.25,-7.05],[784,1,61,82,0,-1.25,-7.05],[1,1,61,82,0,-1.25,-7.05]],animations:{knight_stay_sword_shield:[0,
14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[846,1,61,88,0,-1.25,0],[908,1,61,88,0,-1.25,0],[1,90,60,88,0,-1.25,0],[62,90,60,88,0,-1.25,0],[123,90,59,88,0,-1.25,0],[183,90,59,88,0,-1.25,0],[243,90,59,88,0,-1.25,0],[303,90,59,88,0,-1.25,0],[363,90,59,88,0,-1.25,0],[423,90,60,88,0,-1.25,0],[484,90,60,88,0,-1.25,0],[545,90,60,88,0,-1.25,0],[606,90,61,88,0,-1.25,0],[668,90,60,88,0,-2.25,0],[846,1,61,88,0,-1.25,0]],animations:{knight_stay_helmet_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],
frames:[[729,90,61,82,0,-1.25,-7.05],[791,90,60,82,0,-1.25,-7.05],[852,90,60,82,0,-1.25,-7.05],[913,90,59,82,0,-1.25,-7.05],[1,179,59,82,0,-1.25,-7.05],[61,179,58,82,0,-1.25,-7.05],[120,179,58,82,0,-1.25,-7.05],[179,179,58,82,0,-1.25,-7.05],[238,179,59,82,0,-1.25,-7.05],[298,179,59,82,0,-1.25,-7.05],[358,179,59,82,0,-1.25,-7.05],[418,179,60,82,0,-1.25,-7.05],[479,179,60,82,0,-1.25,-7.05],[540,179,61,82,0,-1.25,-7.05],[729,90,61,82,0,-1.25,-7.05]],animations:{knight_stay_shield:[0,14,!0]}},{images:["knight_full_15fps_0.png"],
frames:[[602,179,61,82,0,-1.25,-7.05],[664,179,60,82,0,-1.25,-7.05],[725,179,60,82,0,-1.25,-7.05],[786,179,59,82,0,-1.25,-7.05],[846,179,59,81,0,-1.25,-8.05],[906,179,58,81,0,-1.25,-8.05],[965,179,58,81,0,-1.25,-8.05],[1,262,58,81,0,-1.25,-8.05],[60,262,59,81,0,-1.25,-8.05],[120,262,59,82,0,-1.25,-7.05],[180,262,59,82,0,-1.25,-7.05],[240,262,60,82,0,-1.25,-7.05],[301,262,60,82,0,-1.25,-7.05],[362,262,61,82,0,-1.25,-7.05],[602,179,61,82,0,-1.25,-7.05]],animations:{knight_stay_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],
frames:[[424,262,61,81,0,-1.25,-7.05],[486,262,61,81,0,-1.25,-7.05],[548,262,60,81,0,-1.25,-7.05],[609,262,60,81,0,-1.25,-7.05],[670,262,59,81,0,-1.25,-7.05],[730,262,59,81,0,-1.25,-7.05],[790,262,58,81,0,-1.25,-7.05],[849,262,59,81,0,-1.25,-7.05],[909,262,59,81,0,-1.25,-7.05],[1,345,60,81,0,-1.25,-7.05],[62,345,60,81,0,-1.25,-7.05],[123,345,60,81,0,-1.25,-7.05],[184,345,61,81,0,-1.25,-7.05],[246,345,61,81,0,-1.25,-7.05],[424,262,61,81,0,-1.25,-7.05]],animations:{knight_stay:[0,14,!0]}},{images:["knight_full_15fps_0.png"],
frames:[[308,345,61,88,0,-1.25,0],[370,345,61,88,0,-1.25,0],[432,345,60,88,0,-1.25,0],[493,345,60,88,0,-1.25,0],[554,345,59,88,0,-1.25,0],[614,345,59,88,0,-1.25,0],[674,345,59,88,0,-1.25,0],[734,345,59,88,0,-1.25,0],[794,345,59,88,0,-1.25,0],[854,345,60,88,0,-1.25,0],[915,345,60,88,0,-1.25,0],[1,434,60,88,0,-1.25,0],[62,434,61,88,0,-1.25,0],[124,434,60,88,0,-2.25,0],[308,345,61,88,0,-1.25,0]],animations:{knight_stay_helmet:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[185,434,61,82,0,-1.5,
-7.25],[247,434,61,82,0,-1.5,-7.25],[309,434,61,83,0,-.5,-6.25],[371,434,60,83,0,-.5,-5.25],[432,434,60,82,0,-.5,-6.25],[493,434,59,81,0,-1.5,-7.25],[553,434,58,81,0,-1.5,-7.25],[612,434,59,80,0,-1.5,-8.25],[672,434,59,81,0,-1.5,-7.25],[732,434,60,81,0,-1.5,-7.25],[793,434,60,82,0,-2.5,-6.25],[854,434,60,82,0,-2.5,-6.25],[915,434,60,83,0,-2.5,-6.25],[1,523,60,82,0,-2.5,-7.25],[62,523,61,82,0,-1.5,-7.25]],animations:{knight_walk_shield:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[124,523,
61,82,0,-1.5,-7.25],[186,523,61,82,0,-1.5,-7.25],[248,523,60,83,0,-1.5,-6.25],[309,523,60,83,0,-.5,-5.25],[370,523,60,82,0,-.5,-6.25],[431,523,59,81,0,-1.5,-7.25],[491,523,58,81,0,-1.5,-7.25],[550,523,58,79,0,-1.5,-8.25],[609,523,59,81,0,-1.5,-7.25],[669,523,59,81,0,-2.5,-7.25],[729,523,60,82,0,-2.5,-6.25],[790,523,60,83,0,-2.5,-5.25],[851,523,61,82,0,-2.5,-6.25],[913,523,61,82,0,-2.5,-7.25],[1,607,61,82,0,-2.5,-7.25]],animations:{knight_walk:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[63,
607,59,86,0,-1.5,-.30000000000000004],[123,607,58,86,0,-1.5,.7],[182,607,59,86,0,-.5,.7],[242,607,58,87,0,-.5,1.7],[301,607,58,86,0,-.5,.7],[360,607,57,86,0,-.5,.7],[418,607,56,84,0,-1.5,-.30000000000000004],[475,607,58,83,0,-.5,-1.3],[534,607,56,84,0,-1.5,-.30000000000000004],[591,607,57,86,0,-1.5,.7],[649,607,58,86,0,-1.5,.7],[708,607,58,87,0,-2.5,1.7],[767,607,58,86,0,-2.5,.7],[826,607,59,86,0,-1.5,.7],[886,607,59,86,0,-1.5,-.30000000000000004]],animations:{knight_walk_helmet_shield:[0,14,!0]}},
{images:["knight_full_15fps_0.png"],frames:[[946,607,59,86,0,-1.5,.7],[1,695,59,86,0,-1.5,.7],[61,695,58,86,0,-1.5,.7],[120,695,58,86,0,-1.5,.7],[179,695,58,87,0,-1.5,1.7],[238,695,59,86,0,-.5,1.7],[298,695,58,86,0,-.5,1.7],[357,695,58,86,0,-.5,1.7],[416,695,57,86,0,-1.5,1.7],[474,695,57,85,0,-1.5,.7],[532,695,57,85,0,-1.5,.7],[590,695,57,85,0,-1.5,.7],[648,695,56,85,0,-1.5,.7],[705,695,56,84,0,-1.5,-.30000000000000004],[762,695,56,84,0,-1.5,-.30000000000000004],[819,695,57,84,0,-1.5,-.30000000000000004],
[877,695,57,84,0,-1.5,-.30000000000000004],[935,695,57,85,0,-1.5,.7],[1,783,57,85,0,-2.5,.7],[59,783,57,85,0,-2.5,.7],[117,783,58,86,0,-2.5,1.7],[176,783,58,86,0,-2.5,1.7],[235,783,58,86,0,-2.5,1.7],[294,783,58,86,0,-2.5,1.7],[353,783,58,87,0,-2.5,1.7],[412,783,58,87,0,-2.5,1.7],[471,783,58,86,0,-2.5,.7],[530,783,58,86,0,-2.5,.7],[589,783,58,86,0,-2.5,.7],[648,783,58,86,0,-2.5,.7]],animations:{knight_walk_helmet:[0,29,!0]}},{images:["knight_full_15fps_0.png"],frames:[[707,783,58,79,0,-1.5,-6.1],[766,
783,59,79,0,-.5,-6.1],[826,783,58,80,0,-.5,-5.1],[885,783,58,80,0,-.5,-5.1],[944,783,57,79,0,-.5,-5.1],[1,871,57,78,0,-.5,-6.1],[59,871,57,78,0,-.5,-6.1],[117,871,56,77,0,-.5,-7.1],[174,871,56,78,0,-1.5,-6.1],[231,871,57,78,0,-1.5,-6.1],[289,871,58,79,0,-1.5,-5.1],[348,871,58,80,0,-1.5,-5.1],[407,871,59,80,0,-1.5,-5.1],[467,871,59,79,0,-1.5,-6.1],[527,871,59,79,0,-1.5,-6.1]],animations:{knight_walk_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[587,871,58,85,0,-1.5,-.30000000000000004],
[646,871,59,86,0,-.5,.7],[706,871,58,86,0,-.5,.7],[765,871,58,87,0,-.5,1.7],[824,871,57,85,0,-.5,.7],[882,871,57,85,0,-.5,.7],[940,871,57,84,0,-.5,-.30000000000000004],[1,959,56,84,0,-.5,-.30000000000000004],[58,959,56,84,0,-1.5,-.30000000000000004],[115,959,57,85,0,-1.5,.7],[173,959,58,86,0,-1.5,1.7],[232,959,58,87,0,-1.5,1.7],[291,959,59,87,0,-1.5,1.7],[351,959,59,86,0,-1.5,.7],[411,959,59,86,0,-1.5,.7]],animations:{knight_walk_helmet_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[471,
959,61,89,0,-1.25,0],[533,959,61,89,0,-1.25,0],[595,959,60,89,0,-1.25,0],[656,959,60,89,0,-1.25,0],[717,959,59,89,0,-1.25,0],[777,959,59,89,0,-1.25,0],[837,959,59,89,0,-1.25,0],[897,959,59,89,0,-1.25,0],[957,959,59,89,0,-1.25,0],[1,1049,60,89,0,-1.25,0],[62,1049,60,89,0,-1.25,0],[123,1049,60,89,0,-1.25,0],[184,1049,61,89,0,-1.25,0],[246,1049,60,89,0,-2.25,0],[471,959,61,89,0,-1.25,0]],animations:{knight_stay_helmet_shield:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[307,1049,61,89,0,-1.25,
0],[369,1049,61,88,0,-1.25,-1],[431,1049,61,88,0,-1.25,-1],[493,1049,60,88,0,-1.25,-1],[554,1049,60,88,0,-1.25,-1],[615,1049,59,88,0,-1.25,-1],[675,1049,59,88,0,-1.25,-1],[735,1049,58,88,0,-1.25,-1],[794,1049,59,88,0,-1.25,-1],[854,1049,59,88,0,-1.25,-1],[914,1049,60,88,0,-1.25,-1],[1,1139,60,88,0,-1.25,-1],[62,1139,61,88,0,-1.25,-1],[124,1139,61,88,0,-1.25,-1],[307,1049,61,89,0,-1.25,0]],animations:{knight_stay_helmet_sword_shield:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[186,1139,
59,79,0,-1.5,-7.1],[246,1139,58,79,0,-1.5,-7.1],[305,1139,58,80,0,-1.5,-6.1],[364,1139,58,80,0,-.5,-5.1],[423,1139,58,79,0,-.5,-6.1],[482,1139,57,78,0,-1.5,-7.1],[540,1139,56,78,0,-1.5,-7.1],[597,1139,57,77,0,-1.5,-8.1],[655,1139,57,78,0,-1.5,-7.1],[713,1139,58,78,0,-1.5,-7.1],[772,1139,57,79,0,-2.5,-6.1],[830,1139,58,80,0,-2.5,-5.1],[889,1139,58,80,0,-2.5,-6.1],[948,1139,58,79,0,-2.5,-7.1],[1,1228,59,79,0,-1.5,-7.1]],animations:{knight_walk_sword_shield:[0,14,!0]}},{images:["knight_full_15fps_0.png"],
frames:[[61,1228,59,86,0,-1.5,-.30000000000000004],[121,1228,58,86,0,-1.5,.7],[180,1228,58,86,0,-1.5,.7],[239,1228,58,87,0,-.5,1.7],[298,1228,58,86,0,-.5,.7],[357,1228,57,86,0,-1.5,.7],[415,1228,56,84,0,-1.5,-.30000000000000004],[472,1228,57,83,0,-1.5,-1.3],[530,1228,57,84,0,-1.5,-.30000000000000004],[588,1228,58,86,0,-1.5,.7],[647,1228,57,86,0,-2.5,.7],[705,1228,58,87,0,-2.5,1.7],[764,1228,58,86,0,-2.5,.7],[823,1228,58,86,0,-2.5,.7],[882,1228,59,86,0,-1.5,-.30000000000000004]],animations:{knight_walk_helmet_sword_shield:[0,
14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[943,1228,59,88,0,-.5500000000000007,-.3],[1,1317,65,84,0,1.4499999999999993,-4.3],[67,1317,73,80,0,5.449999999999999,-8.3],[141,1317,82,81,0,9.45,-13.3],[224,1317,82,80,0,9.45,-14.3],[307,1317,82,79,0,9.45,-15.3],[390,1317,82,78,0,9.45,-16.3],[473,1317,82,77,0,9.45,-17.3],[556,1317,82,77,0,9.45,-17.3],[639,1317,82,77,0,9.45,-17.3],[722,1317,82,77,0,9.45,-17.3],[805,1317,82,77,0,9.45,-17.3],[888,1317,82,77,0,9.45,-17.3],[888,1317,82,77,0,9.45,-17.3],
[1,1402,82,77,0,9.45,-17.3]],animations:{knight_death_helmet_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[84,1402,58,82,0,-1.5500000000000007,-7.35],[143,1402,66,77,0,1.4499999999999993,-12.35],[210,1402,74,73,0,5.449999999999999,-16.35],[285,1402,82,67,0,9.45,-21.35],[368,1402,82,66,0,9.45,-22.35],[451,1402,83,66,0,9.45,-23.35],[535,1402,83,66,0,9.45,-24.35],[619,1402,83,66,0,9.45,-25.35],[703,1402,83,67,0,9.45,-25.35],[787,1402,83,68,0,9.45,-25.35],[871,1402,83,69,0,9.45,-25.35],
[1,1485,83,70,0,9.45,-25.35],[85,1485,83,70,0,9.45,-25.35],[85,1485,83,70,0,9.45,-25.35],[1,1485,83,70,0,9.45,-25.35]],animations:{knight_death_shield:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[169,1485,59,81,0,-.5500000000000007,-7.35],[229,1485,65,77,0,1.4499999999999993,-11.35],[295,1485,73,72,0,5.449999999999999,-16.35],[369,1485,82,74,0,9.45,-20.35],[452,1485,82,73,0,9.45,-21.35],[535,1485,82,72,0,9.45,-22.35],[618,1485,82,71,0,9.45,-23.35],[701,1485,82,70,0,9.45,-24.35],[784,1485,
82,70,0,9.45,-24.35],[867,1485,82,70,0,9.45,-24.35],[1,1567,82,70,0,9.45,-24.35],[84,1567,82,70,0,9.45,-24.35],[167,1567,82,70,0,9.45,-24.35],[167,1567,82,70,0,9.45,-24.35],[250,1567,82,70,0,9.45,-24.35]],animations:{knight_death_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[333,1567,58,82,0,-1.5500000000000007,-7.35],[392,1567,65,77,0,1.4499999999999993,-12.35],[458,1567,73,73,0,5.449999999999999,-16.35],[532,1567,82,67,0,9.45,-21.35],[615,1567,82,66,0,9.45,-22.35],[698,1567,82,
66,0,9.45,-23.35],[781,1567,82,66,0,9.45,-24.35],[864,1567,82,66,0,9.45,-25.35],[1,1650,82,67,0,9.45,-25.35],[84,1650,82,68,0,9.45,-25.35],[167,1650,82,69,0,9.45,-25.35],[250,1650,82,70,0,9.45,-25.35],[333,1650,82,70,0,9.45,-25.35],[333,1650,82,70,0,9.45,-25.35],[250,1650,82,70,0,9.45,-25.35]],animations:{knight_death:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[416,1650,59,81,0,-.5500000000000007,-7.35],[476,1650,65,77,0,1.4499999999999993,-11.35],[542,1650,73,72,0,5.449999999999999,
-16.35],[616,1650,82,75,0,9.45,-20.35],[699,1650,82,74,0,9.45,-21.35],[782,1650,82,73,0,9.45,-22.35],[865,1650,82,71,0,9.45,-24.35],[1,1732,82,70,0,9.45,-25.35],[84,1732,82,70,0,9.45,-25.35],[167,1732,82,70,0,9.45,-25.35],[250,1732,82,70,0,9.45,-25.35],[333,1732,82,70,0,9.45,-25.35],[416,1732,82,70,0,9.45,-25.35],[416,1732,82,70,0,9.45,-25.35],[499,1732,82,70,0,9.45,-25.35]],animations:{knight_death_shield_sword:[0,14,!0]}},{images:["knight_full_15fps_0.png"],frames:[[582,1732,58,88,0,-1.5500000000000007,
-.3],[641,1732,66,84,0,1.4499999999999993,-4.3],[708,1732,74,79,0,5.449999999999999,-9.3],[783,1732,82,82,0,9.45,-13.3],[866,1732,82,81,0,9.45,-14.3],[1,1821,83,80,0,9.45,-15.3],[85,1821,83,79,0,9.45,-16.3],[169,1821,83,78,0,9.45,-17.3],[253,1821,83,78,0,9.45,-17.3],[337,1821,83,78,0,9.45,-17.3],[421,1821,83,78,0,9.45,-17.3],[505,1821,83,78,0,9.45,-17.3],[589,1821,83,78,0,9.45,-17.3],[589,1821,83,78,0,9.45,-17.3],[673,1821,83,78,0,9.45,-17.3]],animations:{knight_death_helmet_shield_sword:[0,14,!0]}},
{images:["knight_full_15fps_0.png"],frames:[[757,1821,58,88,0,-1.5500000000000007,-.3],[816,1821,65,84,0,1.4499999999999993,-4.3],[882,1821,73,79,0,5.449999999999999,-9.3],[1,1910,82,75,0,9.45,-13.3],[84,1910,82,74,0,9.45,-14.3],[167,1910,82,73,0,9.45,-15.3],[250,1910,82,73,0,9.45,-16.3],[333,1910,82,73,0,9.45,-17.3],[416,1910,82,74,0,9.45,-17.3],[499,1910,82,76,0,9.45,-17.3],[582,1910,82,77,0,9.45,-17.3],[665,1910,82,78,0,9.45,-17.3],[748,1910,82,78,0,9.45,-17.3],[748,1910,82,78,0,9.45,-17.3],[665,
1910,82,78,0,9.45,-17.3]],animations:{knight_death_helmet_shield:[0,14,!0]}}]));b.atlas1=new createjs.SpriteSheet(b.getParsedObject([ImagesRes.loader.getResult(b.ATLAS_1)],[{images:["knight_full_1_15fps_2.png"],frames:[[913,131,59,51,0,-9,-8.15],[62,145,59,50,0,-9,-9.15],[1,145,60,50,0,-8,-9.15],[371,129,61,50,0,-7,-9.15],[433,130,61,50,0,-7,-9.15],[557,130,62,49,0,-7,-10.15],[666,101,63,49,0,-7,-10.15],[243,129,63,49,0,-8,-10.15],[925,81,64,49,0,-8,-10.15],[307,129,63,49,0,-9,-10.15],[850,82,62,
50,0,-10,-9.15],[758,100,62,50,0,-10,-9.15],[495,130,61,50,0,-10,-9.15],[122,145,59,50,0,-10,-9.15],[821,133,59,51,0,-9,-8.15]],animations:{wolf:[0,14,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[439,254,42,51,0,-13.05,-7.05],[482,254,42,51,0,-13.05,-7.05],[854,256,42,51,0,-13.05,-7.05],[897,256,42,51,0,-13.05,-7.05],[791,258,42,51,0,-13.05,-7.05],[1,269,42,51,0,-13.05,-7.05],[44,269,42,51,0,-13.05,-7.05],[87,269,42,51,0,-13.05,-7.05],[590,276,42,51,0,-13.05,-7.05],[940,277,42,51,0,-13.05,
-7.05],[130,291,42,51,0,-13.05,-7.05],[525,295,42,51,0,-13.05,-7.05],[633,297,42,51,0,-13.05,-7.05],[676,297,42,51,0,-13.05,-7.05],[719,297,42,51,0,-13.05,-7.05],[247,302,42,51,0,-13.05,-7.05],[173,304,42,51,0,-13.05,-7.05],[347,305,42,51,0,-13.05,-7.05],[396,254,42,52,0,-13.05,-6.05],[439,306,42,51,0,-13.05,-7.05],[482,306,42,51,0,-13.05,-7.05],[390,307,42,51,0,-13.05,-7.05],[290,308,42,51,0,-13.05,-7.05],[834,308,42,51,0,-13.05,-7.05],[877,308,42,51,0,-13.05,-7.05],[762,310,42,51,0,-13.05,-7.05],
[1,321,42,51,0,-13.05,-7.05],[44,321,42,51,0,-13.05,-7.05],[87,321,42,51,0,-13.05,-7.05],[568,328,42,51,0,-13.05,-7.05],[920,329,42,51,0,-13.05,-7.05],[963,329,42,51,0,-13.05,-7.05],[130,343,42,51,0,-13.05,-7.05],[525,347,42,51,0,-13.05,-7.05],[611,349,42,51,0,-13.05,-7.05]],animations:{shield:[0,34,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[654,349,42,29,0,-24.15,-28.05],[697,349,42,29,0,-24.15,-28.05],[216,354,42,29,0,-24.15,-28.05],[173,356,42,29,0,-24.15,-28.05],[333,357,42,29,0,-24.15,
-28.05],[433,358,42,29,0,-24.15,-28.05],[476,358,42,29,0,-24.15,-28.05],[376,359,42,29,0,-24.15,-28.05],[259,360,42,29,0,-24.15,-28.05],[805,360,42,29,0,-24.15,-28.05],[848,360,42,29,0,-24.15,-28.05],[740,362,42,29,0,-24.15,-28.05],[1,373,42,29,0,-24.15,-28.05],[44,373,42,29,0,-24.15,-28.05],[87,373,42,29,0,-24.15,-28.05],[654,379,42,29,0,-24.15,-28.05],[697,379,41,29,0,-25.15,-28.05],[568,380,41,29,0,-25.15,-28.05],[891,381,41,29,0,-25.15,-28.05],[933,381,41,29,0,-25.15,-28.05],[975,381,41,29,0,
-25.15,-28.05],[216,384,41,29,0,-25.15,-28.05],[173,386,41,29,0,-25.15,-28.05],[302,387,41,29,0,-25.15,-28.05],[419,388,41,29,0,-25.15,-28.05],[461,388,41,29,0,-25.15,-28.05],[344,389,41,29,0,-25.15,-28.05],[258,390,41,29,0,-25.15,-28.05],[783,390,41,29,0,-25.15,-28.05],[825,390,41,29,0,-25.15,-28.05],[739,392,41,29,0,-25.15,-28.05],[130,395,41,29,0,-25.15,-28.05],[503,399,41,29,0,-25.15,-28.05],[610,401,41,29,0,-25.15,-28.05],[1,403,41,29,0,-25.15,-28.05],[43,403,41,29,0,-25.15,-28.05],[85,403,41,
29,0,-25.15,-28.05],[652,409,41,29,0,-25.15,-28.05],[694,409,41,29,0,-25.15,-28.05],[545,410,41,29,0,-25.15,-28.05],[867,411,41,29,0,-25.15,-28.05],[909,411,41,29,0,-25.15,-28.05],[951,411,41,29,0,-25.15,-28.05],[215,414,41,29,0,-25.15,-28.05],[172,416,41,29,0,-25.15,-28.05],[300,417,41,29,0,-25.15,-28.05],[386,418,41,29,0,-25.15,-28.05],[428,418,41,29,0,-25.15,-28.05],[342,419,41,29,0,-25.15,-28.05],[257,420,41,29,0,-25.15,-28.05],[781,420,41,29,0,-25.15,-28.05],[823,420,41,29,0,-25.15,-28.05],[736,
422,41,29,0,-25.15,-28.05],[127,425,41,29,0,-25.15,-28.05],[470,429,41,29,0,-25.15,-28.05],[587,431,41,29,0,-25.15,-28.05],[1,433,41,29,0,-25.15,-28.05],[43,433,41,29,0,-25.15,-28.05],[85,433,41,29,0,-25.15,-28.05],[629,439,41,29,0,-25.15,-28.05]],animations:{helmet:[0,59,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[620,130,38,72,0,3.4,0],[973,131,38,72,0,3.4,0],[182,145,38,72,0,3.4,0],[659,151,38,72,0,3.4,0],[698,151,38,72,0,3.4,0],[737,151,38,72,0,3.4,0],[776,151,38,72,0,3.4,0],[221,179,
38,72,0,3.4,0],[260,179,38,72,0,3.4,0],[299,179,38,72,0,3.4,0],[338,180,38,72,0,3.4,0],[377,180,38,72,0,3.4,0],[557,180,38,72,0,3.4,0],[416,181,38,72,0,3.4,0],[455,181,38,72,0,3.4,0],[494,181,38,72,0,3.4,0],[881,183,38,72,0,3.4,0],[920,183,38,72,0,3.4,0],[815,185,38,72,0,3.4,0],[1,196,38,72,0,3.4,0],[40,196,38,72,0,3.4,0],[79,196,38,72,0,3.4,0],[118,196,38,72,0,3.4,0],[596,203,38,72,0,3.4,0],[959,204,38,72,0,3.4,0],[157,218,38,72,0,3.4,0],[635,224,38,72,0,3.4,0],[674,224,38,72,0,3.4,0],[713,224,38,
72,0,3.4,0],[752,224,38,72,0,3.4,0]],animations:{sword:[0,29,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[983,277,40,35,0,-32.9,-41.65],[925,1,67,79,0,-15.899999999999999,-26.65],[566,1,99,128,0,2.1000000000000014,-1.6500000000000004],[243,1,110,127,0,9.100000000000001,-1.6500000000000004],[1,1,120,143,0,18.1,10.35],[666,1,91,99,0,6.100000000000001,-3.6500000000000004]],animations:{boom:[0,5,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[533,253,56,41,0,-16.9,-40.65],[850,1,74,80,0,
-8.899999999999999,-25.65],[465,1,100,128,0,3.1000000000000014,-1.6500000000000004],[354,1,110,127,0,9.100000000000001,-1.6500000000000004],[122,1,120,143,0,18.1,10.35],[758,1,91,98,0,6.100000000000001,-3.6500000000000004]],animations:{boom_sword:[0,5,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[247,252,52,49,0,0,-.75],[196,252,50,51,0,-1,.25],[347,253,48,51,0,-2,1.25],[300,253,46,54,0,-3,4.25]],animations:{trap:[0,3,!0]}},{images:["knight_full_1_15fps_2.png"],frames:[[635,203,15,17,0,14.649999999999999,
-58.35],[940,256,14,18,0,14.649999999999999,-56.35],[130,269,18,21,0,17.65,-55.35],[533,228,17,23,0,17.65,-52.35],[998,247,17,25,0,17.65,-50.35],[791,224,17,28,0,17.65,-47.35],[196,218,17,30,0,17.65,-45.35],[221,145,16,33,0,17.65,-42.35],[993,411,16,36,0,17.65,-39.35],[1006,313,16,39,0,17.65,-37.35],[805,310,17,37,0,17.65,-35.35],[834,258,18,40,0,18.65,-32.35],[998,204,20,42,0,19.65,-30.35],[854,185,21,43,0,19.65,-28.35],[533,181,22,46,0,20.65,-25.35],[993,1,23,48,0,20.65,-23.35],[730,101,24,44,0,
21.65,-21.35],[993,50,26,41,0,22.65,-19.35],[881,133,27,39,0,22.65,-16.35],[990,92,28,36,0,23.65,-14.35],[216,304,28,33,0,23.65,-12.35],[512,429,31,31,0,24.65,-9.35],[821,100,28,27,0,23.65,-8.35],[854,229,26,24,0,22.65,-6.35],[157,196,24,21,0,21.65,-4.35],[596,180,22,19,0,20.65,-1.3499999999999996],[568,295,19,13,0,18.65,-.34999999999999964],[920,308,17,13,0,17.65,1.6500000000000004],[173,291,15,12,0,16.65,2.6500000000000004],[959,183,13,12,0,15.649999999999999,4.65]],animations:{smoke:[0,29,!0]}}]))};
b.getParsedObject=function(a,c){for(var b={images:a,frames:[],animations:{}},d,e,g,h=0,k=0,l=0;l<c.length;l++){d=c[l].frames;e=c[l].animations;var k=0,m;for(m in e)g=e[m],b.animations[m]=g,g[0]=h,k++;for(e=0;e<d.length;e++)b.frames.push(d[e]),h++;g[1]=h-1}return b};b.ATLAS_0="atlas0";b.ATLAS_1="atlas1";b.levels=[];b.levelFromEditor=null;b.level0=[{index:0,types:["grass"]},{index:1,types:["grass"]},{index:2,types:["grass","pine1"]},{index:3,types:["grass","wolwpig"]},{index:4,types:["water"]},{index:5,
types:["grass"]},{index:6,types:["grass","pine0"]},{index:7,types:["grass"]},{index:8,types:["grass"]},{index:9,types:["grass"]},{index:10,types:["grass","hero"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,Decor0:[254,65],types:["water","Decor0"]},{index:14,types:["grass"]},{index:15,types:["grass"]},{index:16,types:["grass","star1"]},{index:17,types:["grass"]},{index:18,types:["grass"]},{index:19,types:["grass"]},{index:20,types:["grass"]},{index:21,types:["grass","wolwpig"]},
{index:22,types:["water"]},{index:23,types:["grass"]},{index:24,types:["grass"]},{index:25,types:["grass"]},{index:26,types:["grass","stump"]},{index:27,types:["grass","pine0"]},{index:28,types:["grass"]},{index:29,Decor1:[146,200],types:["grass","Decor1"]},{index:30,types:["water"]},{index:31,types:["water"]},{index:32,types:["grass"]},{index:33,types:["grass","pine2"]},{index:34,types:["grass"]},{index:35,types:["grass"]},{index:36,types:["grass"]},{index:37,types:["grass"]},{index:38,types:["water"]},
{index:39,types:["water"]},{index:40,types:["grass"]},{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["water"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["grass","stone1"]},{index:47,types:["water"]},{index:48,types:["grass","exit"]},{index:49,types:["grass"]},{index:50,types:["grass"]},{index:51,types:["grass","star2"]},{index:52,types:["water"]},{index:53,types:["grass"]},{index:54,types:["grass","star0"]},{index:55,types:["grass"]},{index:56,
types:["water"]},{index:57,types:["water"]},{index:58,types:["water"]},{index:59,Decor2:[292,385],types:["water","Decor2"]},{index:60,types:["water"]},{index:61,types:["water"]},{index:62,Decor3:[490,389],types:["grass","Decor3"]},{index:63,types:["grass"]},{index:64,types:["grass"]},{index:65,types:["water","brige1"]},{index:66,types:["grass"]},{index:67,types:["grass","pine2"]},{index:68,types:["grass"]},{index:69,types:["grass"]},{index:70,types:["grass"]},{index:71,types:["grass"]},{index:72,
types:["grass"]},{index:73,types:["grass"]},{index:74,types:["water"]},{index:75,types:["grass"]},{index:76,types:["grass"]},{index:77,types:["grass"]},{index:78,types:["grass","pine0"]},{index:79,types:["grass"]},{index:80,types:["grass"]}];b.level1=[{index:0,types:["grass","pine1"]},{index:1,types:["grass"]},{index:2,types:["water"]},{index:3,types:["water"]},{index:4,types:["water"]},{index:5,types:["grass"]},{index:6,types:["grass","wolwpig"]},{index:7,types:["grass"]},{index:8,types:["grass"]},
{index:9,types:["grass"]},{index:10,types:["grass","star2"]},{index:11,types:["grass"]},{index:12,Decor1:[179,68],types:["grass","Decor1"]},{index:13,types:["water"]},{index:14,Decor2:[296,78],types:["water","Decor2"]},{index:15,types:["grass"]},{index:16,types:["grass","exit"]},{index:17,types:["water"]},{index:18,types:["water"]},{index:19,types:["water"]},{index:20,types:["water"]},{index:21,types:["grass"]},{index:22,types:["grass"]},{index:23,types:["grass"]},{index:24,types:["grass"]},{index:25,
types:["water"]},{index:26,types:["water"]},{index:27,types:["grass"]},{index:28,types:["grass","hero"]},{index:29,types:["water"]},{index:30,types:["grass"]},{index:31,types:["grass"]},{index:32,types:["grass"]},{index:33,types:["grass","wolwpig"]},{index:34,types:["water"]},{index:35,types:["grass","star0"]},{index:36,types:["grass"]},{index:37,types:["water"]},{index:38,types:["water"]},{index:39,types:["water"]},{index:40,types:["water"]},{index:41,types:["water","brige0"]},{index:42,types:["water"]},
{index:43,types:["water"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["water"]},{index:47,types:["grass"]},{index:48,types:["grass"]},{index:49,types:["grass","wolwpig"]},{index:50,types:["grass"]},{index:51,types:["grass"]},{index:52,types:["grass"]},{index:53,types:["grass","wolwpig"]},{index:54,types:["grass"]},{index:55,types:["water","brige1"]},{index:56,types:["grass"]},{index:57,types:["grass"]},{index:58,types:["water"]},{index:59,types:["water"]},{index:60,types:["grass"]},
{index:61,Decor4:[421,379],types:["grass","Decor4"]},{index:62,types:["grass"]},{index:63,types:["water"]},{index:64,types:["water"]},{index:65,types:["grass"]},{index:66,types:["grass","stone0"]},{index:67,types:["water"]},{index:68,Decor0:[291,401],types:["water","Decor0"]},{index:69,types:["water"]},{index:70,types:["grass"]},{index:71,types:["grass"]},{index:72,types:["grass"]},{index:73,types:["grass","pine0"]},{index:74,types:["grass"]},{index:75,types:["grass"]},{index:76,types:["grass"]},
{index:77,types:["grass","star1"]},{index:78,types:["water"]},{index:79,types:["water"]},{index:80,types:["grass","stump"]}];b.level2=[{index:0,types:["grass"]},{index:1,types:["grass"]},{index:2,types:["grass"]},{index:3,types:["grass","pine0"]},{index:4,types:["grass"]},{index:5,types:["water"]},{index:6,types:["grass","star1"]},{index:7,types:["grass"]},{index:8,types:["grass"]},{index:9,types:["grass","hero"]},{index:10,types:["grass"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,
types:["grass"]},{index:14,types:["water"]},{index:15,types:["water"]},{index:16,types:["grass","pine1"]},{index:17,types:["grass"]},{index:18,types:["water"]},{index:19,types:["grass","stone1"]},{index:20,types:["grass"]},{index:21,Decor4:[211,130],types:["grass","Decor4"]},{index:22,types:["grass"]},{index:23,types:["grass","stump"]},{index:24,types:["water"]},{index:25,types:["grass"]},{index:26,types:["grass"]},{index:27,types:["water"]},{index:28,types:["water"]},{index:29,types:["grass"]},{index:30,
types:["water"]},{index:31,types:["water"]},{index:32,types:["grass"]},{index:33,types:["grass","spikes0"]},{index:34,types:["grass"]},{index:35,types:["grass"]},{index:36,types:["grass","star0"]},{index:37,types:["water"]},{index:38,types:["grass"]},{index:39,types:["water"]},{index:40,types:["grass","star2"]},{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["water"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,Decor3:[72,330],types:["grass","Decor3"]},{index:47,
types:["grass"]},{index:48,types:["water"]},{index:49,types:["grass","pine2"]},{index:50,types:["grass"]},{index:51,types:["grass","wolwpig"]},{index:52,types:["water"]},{index:53,Decor0:[460,314],types:["water","Decor0"]},{index:54,types:["grass"]},{index:55,types:["grass"]},{index:56,types:["grass"]},{index:57,types:["grass"]},{index:58,types:["grass"]},{index:59,types:["grass"]},{index:60,types:["grass"]},{index:61,types:["grass"]},{index:62,types:["water"]},{index:63,Decor2:[9,443],types:["water",
"Decor2"]},{index:64,types:["water","brige0"]},{index:65,types:["water"]},{index:66,types:["water"]},{index:67,types:["water"]},{index:68,types:["water"]},{index:69,types:["grass"]},{index:70,types:["grass","exit"]},{index:71,types:["water"]},{index:72,types:["grass"]},{index:73,types:["grass"]},{index:74,types:["grass"]},{index:75,types:["grass","mill"]},{index:76,types:["grass"]},{index:77,types:["water"]},{index:78,types:["grass","wolwpig"]},{index:79,types:["grass"]},{index:80,types:["grass"]}];
b.level3=[{index:0,types:["grass"]},{index:1,types:["grass"]},{index:2,types:["grass","stone0"]},{index:3,types:["grass"]},{index:4,types:["grass"]},{index:5,types:["water"]},{index:6,types:["grass","wolwpig"]},{index:7,types:["grass"]},{index:8,Decor1:[513,28],types:["grass","Decor1"]},{index:9,types:["grass","mill"]},{index:10,types:["grass"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,types:["grass"]},{index:14,types:["water"]},{index:15,types:["grass"]},{index:16,types:["grass",
"star0"]},{index:17,types:["grass"]},{index:18,types:["grass"]},{index:19,types:["grass"]},{index:20,types:["grass"]},{index:21,types:["water"]},{index:22,types:["grass"]},{index:23,types:["water","brige1"]},{index:24,types:["grass"]},{index:25,types:["grass"]},{index:26,types:["grass","stump"]},{index:27,types:["grass","pine1"]},{index:28,types:["grass"]},{index:29,types:["grass","hero"]},{index:30,types:["water"]},{index:31,Decor4:[276,207],types:["grass","Decor4"]},{index:32,types:["water"]},{index:33,
types:["grass","wolwpig"]},{index:34,types:["grass"]},{index:35,types:["grass"]},{index:36,types:["water"]},{index:37,types:["water"]},{index:38,types:["water"]},{index:39,types:["water"]},{index:40,types:["grass"]},{index:41,types:["water"]},{index:42,types:["water"]},{index:43,Decor2:[418,265],types:["water","Decor2"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["grass","star1"]},{index:47,types:["grass"]},{index:48,types:["grass","boulder"]},{index:49,types:["grass"]},
{index:50,types:["grass","pine0"]},{index:51,types:["water"]},{index:52,types:["grass"]},{index:53,types:["grass"]},{index:54,types:["grass"]},{index:55,types:["grass"]},{index:56,types:["water"]},{index:57,types:["grass","boulderMark"]},{index:58,types:["water"]},{index:59,types:["water"]},{index:60,types:["water"]},{index:61,types:["water","brige0"]},{index:62,types:["water"]},{index:63,types:["grass","exit"]},{index:64,types:["grass"]},{index:65,types:["water"]},{index:66,types:["grass","wolwpig"]},
{index:67,types:["grass"]},{index:68,types:["grass"]},{index:69,types:["grass"]},{index:70,types:["grass"]},{index:71,types:["grass","wolwpig"]},{index:72,types:["grass"]},{index:73,types:["grass"]},{index:74,types:["grass","spikes0"]},{index:75,types:["grass"]},{index:76,types:["grass"]},{index:77,Decor3:[301,507],types:["grass","Decor3"]},{index:78,types:["grass"]},{index:79,types:["grass","stone1"]},{index:80,types:["grass","star2"]}];b.level4=[{index:0,types:["grass"]},{index:1,types:["grass",
"pine0"]},{index:2,types:["grass"]},{index:3,types:["grass","star2"]},{index:4,types:["water","brige1"]},{index:5,types:["grass"]},{index:6,types:["grass"]},{index:7,types:["grass"]},{index:8,types:["grass"]},{index:9,types:["water"]},{index:10,types:["grass"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,types:["water"]},{index:14,types:["grass","stump"]},{index:15,types:["grass"]},{index:16,types:["grass","exit"]},{index:17,types:["grass"]},{index:18,types:["water"]},{index:19,
types:["grass","boulder"]},{index:20,types:["grass","boulderMark"]},{index:21,types:["water"]},{index:22,types:["water"]},{index:23,types:["grass"]},{index:24,types:["grass"]},{index:25,types:["grass"]},{index:26,Decor3:[511,149],types:["grass","Decor3"]},{index:27,types:["water"]},{index:28,types:["grass","star0"]},{index:29,types:["water"]},{index:30,types:["water"]},{index:31,types:["grass"]},{index:32,types:["grass","arrow"]},{index:33,types:["grass","tower"]},{index:34,types:["grass"]},{index:35,
types:["water"]},{index:36,types:["water"]},{index:37,types:["water"]},{index:38,Decor0:[134,224],types:["water","Decor0"]},{index:39,types:["grass","pine2"]},{index:40,types:["water"]},{index:41,types:["water","brige0"]},{index:42,types:["water"]},{index:43,types:["water"]},{index:44,types:["water"]},{index:45,types:["grass"]},{index:46,Decor1:[70,331],types:["grass","Decor1"]},{index:47,types:["water"]},{index:48,types:["water"]},{index:49,types:["water"]},{index:50,types:["grass","wolwpig"]},{index:51,
types:["grass"]},{index:52,Decor2:[436,291],types:["water","Decor2"]},{index:53,types:["grass","mill"]},{index:54,types:["grass"]},{index:55,types:["grass"]},{index:56,types:["grass"]},{index:57,types:["grass"]},{index:58,types:["water"]},{index:59,Decor4:[326,392],types:["grass","Decor4"]},{index:60,types:["grass"]},{index:61,types:["water"]},{index:62,types:["grass"]},{index:63,types:["grass"]},{index:64,types:["grass","hero"]},{index:65,types:["grass","stone1"]},{index:66,types:["grass"]},{index:67,
types:["water","brige1"]},{index:68,types:["grass"]},{index:69,types:["grass"]},{index:70,types:["grass","star1"]},{index:71,types:["grass"]},{index:72,types:["grass","pine1"]},{index:73,types:["grass"]},{index:74,types:["grass"]},{index:75,types:["grass"]},{index:76,types:["water"]},{index:77,types:["grass","wolwpig"]},{index:78,types:["grass"]},{index:79,types:["grass"]},{index:80,types:["grass"]}];b.level5=[{index:0,types:["grass"]},{index:1,types:["water"]},{index:2,types:["grass","wolwpig"]},
{index:3,types:["grass"]},{index:4,types:["grass"]},{index:5,types:["grass"]},{index:6,types:["water"]},{index:7,types:["water"]},{index:8,types:["grass","pine1"]},{index:9,types:["grass","star0"]},{index:10,types:["water"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,types:["grass","pine0"]},{index:14,types:["grass"]},{index:15,types:["water"]},{index:16,Decor0:[401,46],types:["water","Decor0"]},{index:17,types:["grass","star2"]},{index:18,types:["grass"]},{index:19,types:["grass",
"stump"]},{index:20,types:["grass"]},{index:21,types:["grass"]},{index:22,types:["water"]},{index:23,types:["grass"]},{index:24,types:["grass"]},{index:25,types:["water","brige1"]},{index:26,types:["grass","spikes0"]},{index:27,types:["grass"]},{index:28,types:["grass"]},{index:29,types:["grass"]},{index:30,types:["water"]},{index:31,types:["water"]},{index:32,types:["water"]},{index:33,types:["grass"]},{index:34,types:["water"]},{index:35,types:["grass"]},{index:36,types:["water"]},{index:37,types:["grass"]},
{index:38,types:["grass","wolwpig"]},{index:39,types:["water","brige1"]},{index:40,types:["grass","hero"]},{index:41,types:["water"]},{index:42,Decor3:[393,249],types:["grass","Decor3"]},{index:43,types:["water"]},{index:44,types:["grass"]},{index:45,types:["water"]},{index:46,types:["water"]},{index:47,types:["water"]},{index:48,types:["water"]},{index:49,types:["water"]},{index:50,types:["water"]},{index:51,types:["grass"]},{index:52,types:["grass","mill"]},{index:53,types:["grass"]},{index:54,
types:["grass"]},{index:55,types:["grass"]},{index:56,types:["grass","pine2"]},{index:57,types:["grass"]},{index:58,types:["grass"]},{index:59,types:["grass"]},{index:60,types:["grass"]},{index:61,types:["grass"]},{index:62,types:["grass"]},{index:63,types:["grass","exit"]},{index:64,types:["grass"]},{index:65,types:["grass"]},{index:66,types:["grass"]},{index:67,types:["grass","stump"]},{index:68,types:["grass","boulderMark"]},{index:69,types:["water"]},{index:70,types:["water"]},{index:71,Decor2:[501,
443],types:["water","Decor2"]},{index:72,types:["grass"]},{index:73,types:["grass"]},{index:74,Decor1:[127,506],types:["grass","Decor1"]},{index:75,types:["grass"]},{index:76,types:["grass"]},{index:77,types:["grass","boulder"]},{index:78,types:["grass"]},{index:79,types:["grass","star1"]},{index:80,types:["grass"]}];b.level6=[{index:0,types:["grass"]},{index:1,types:["grass"]},{index:2,types:["grass"]},{index:3,types:["water"]},{index:4,types:["water"]},{index:5,Decor2:[302,28],types:["water","Decor2"]},
{index:6,types:["grass"]},{index:7,types:["grass","star0"]},{index:8,types:["grass"]},{index:9,types:["grass"]},{index:10,types:["grass","hero"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,types:["water"]},{index:14,types:["water"]},{index:15,types:["grass"]},{index:16,types:["grass"]},{index:17,types:["water"]},{index:18,types:["water"]},{index:19,types:["grass"]},{index:20,types:["grass"]},{index:21,types:["grass","stone0"]},{index:22,types:["water"]},{index:23,types:["grass"]},
{index:24,types:["grass","arrow"]},{index:25,types:["grass","tower"]},{index:26,types:["water"]},{index:27,types:["water"]},{index:28,types:["water"]},{index:29,types:["grass"]},{index:30,types:["grass"]},{index:31,types:["grass"]},{index:32,Decor1:[328,202],types:["grass","Decor1"]},{index:33,types:["grass"]},{index:34,types:["grass"]},{index:35,types:["grass"]},{index:36,types:["water"]},{index:37,types:["grass","tower"]},{index:38,types:["grass","arrow"]},{index:39,types:["water"]},{index:40,types:["water"]},
{index:41,types:["water"]},{index:42,types:["water"]},{index:43,types:["water"]},{index:44,types:["grass","pine0"]},{index:45,types:["water"]},{index:46,types:["water"]},{index:47,types:["grass"]},{index:48,types:["grass","wolwpig"]},{index:49,types:["grass"]},{index:50,types:["water"]},{index:51,types:["grass","star2"]},{index:52,types:["water"]},{index:53,types:["water"]},{index:54,types:["water"]},{index:55,Decor0:[32,334],types:["water","Decor0"]},{index:56,types:["water"]},{index:57,types:["grass"]},
{index:58,types:["grass"]},{index:59,types:["grass"]},{index:60,types:["grass","arrow"]},{index:61,types:["grass","tower"]},{index:62,types:["grass"]},{index:63,types:["water"]},{index:64,types:["grass","exit"]},{index:65,types:["water"]},{index:66,types:["grass"]},{index:67,types:["grass"]},{index:68,types:["grass","stone1"]},{index:69,types:["grass"]},{index:70,types:["grass"]},{index:71,types:["grass"]},{index:72,types:["grass"]},{index:73,Decor4:[68,506],types:["grass","Decor4"]},{index:74,types:["grass"]},
{index:75,types:["grass","wolwpig"]},{index:76,types:["grass"]},{index:77,types:["water"]},{index:78,types:["water"]},{index:79,types:["grass","star1"]},{index:80,types:["grass"]}];b.level7=[{index:0,types:["grass"]},{index:1,types:["grass"]},{index:2,types:["water"]},{index:3,Decor4:[217,11],types:["grass","Decor4"]},{index:4,types:["grass"]},{index:5,types:["grass"]},{index:6,types:["water"]},{index:7,types:["grass"]},{index:8,types:["grass","wolwpig"]},{index:9,types:["grass"]},{index:10,types:["grass",
"hero"]},{index:11,types:["water","brige1"]},{index:12,types:["grass"]},{index:13,types:["grass","stump"]},{index:14,types:["grass"]},{index:15,types:["water"]},{index:16,types:["grass","exit"]},{index:17,Decor1:[510,64],types:["grass","Decor1"]},{index:18,types:["water"]},{index:19,types:["water"]},{index:20,types:["water"]},{index:21,types:["water"]},{index:22,types:["water"]},{index:23,types:["water","brige0"]},{index:24,types:["water"]},{index:25,types:["water"]},{index:26,types:["water","brige0"]},
{index:27,types:["grass","mill"]},{index:28,types:["grass"]},{index:29,types:["water"]},{index:30,types:["grass","star0"]},{index:31,types:["grass"]},{index:32,types:["grass"]},{index:33,Decor0:[378,163],types:["water","Decor0"]},{index:34,types:["grass"]},{index:35,types:["grass"]},{index:36,types:["grass"]},{index:37,types:["grass","pine1"]},{index:38,types:["water"]},{index:39,types:["water"]},{index:40,types:["grass"]},{index:41,types:["water"]},{index:42,types:["water"]},{index:43,types:["grass",
"stone1"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["grass"]},{index:47,types:["water","brige1"]},{index:48,types:["grass"]},{index:49,types:["grass","boulderMark"]},{index:50,types:["grass","boulder"]},{index:51,types:["water","brige1"]},{index:52,types:["grass"]},{index:53,types:["grass"]},{index:54,types:["water","brige0"]},{index:55,types:["water"]},{index:56,types:["water"]},{index:57,types:["grass","stone0"]},{index:58,types:["grass","pine2"]},{index:59,types:["grass"]},
{index:60,types:["water"]},{index:61,types:["water"]},{index:62,types:["water","brige0"]},{index:63,types:["grass"]},{index:64,types:["grass","trap"]},{index:65,types:["water"]},{index:66,types:["grass"]},{index:67,types:["grass"]},{index:68,types:["grass"]},{index:69,types:["water"]},{index:70,types:["grass","star2"]},{index:71,types:["grass"]},{index:72,types:["grass"]},{index:73,types:["grass"]},{index:74,types:["water","brige1"]},{index:75,types:["grass","spikes0"]},{index:76,types:["grass"]},
{index:77,types:["grass","star1"]},{index:78,types:["water"]},{index:79,types:["grass"]},{index:80,types:["grass","wolwpig"]}];b.level8=[{index:0,types:["grass"]},{index:1,types:["grass","star2"]},{index:2,types:["grass"]},{index:3,types:["grass","boulder"]},{index:4,types:["grass","boulderMark"]},{index:5,types:["water"]},{index:6,Decor1:[370,29],types:["grass","Decor1"]},{index:7,types:["grass"]},{index:8,types:["grass"]},{index:9,types:["water"]},{index:10,types:["water"]},{index:11,types:["water"]},
{index:12,types:["grass"]},{index:13,types:["grass"]},{index:14,types:["water"]},{index:15,types:["grass"]},{index:16,types:["grass","mill"]},{index:17,types:["grass"]},{index:18,types:["grass"]},{index:19,types:["water"]},{index:20,types:["grass"]},{index:21,types:["grass"]},{index:22,types:["grass","stump"]},{index:23,types:["water"]},{index:24,types:["grass","pine0"]},{index:25,types:["grass"]},{index:26,types:["grass","star1"]},{index:27,types:["grass"]},{index:28,types:["grass","tower"]},{index:29,
types:["grass","arrow"]},{index:30,Decor4:[191,209],types:["grass","Decor4"]},{index:31,types:["grass"]},{index:32,types:["grass"]},{index:33,types:["grass"]},{index:34,types:["grass"]},{index:35,types:["grass"]},{index:36,types:["grass"]},{index:37,types:["grass"]},{index:38,types:["grass"]},{index:39,types:["grass"]},{index:40,types:["grass","stone0"]},{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["water"]},{index:44,types:["water"]},{index:45,types:["water"]},{index:46,
types:["grass","pine2"]},{index:47,types:["grass"]},{index:48,types:["grass"]},{index:49,types:["water"]},{index:50,types:["grass"]},{index:51,types:["grass","spikes0"]},{index:52,types:["grass"]},{index:53,Decor3:[483,334],types:["grass","Decor3"]},{index:54,types:["water"]},{index:55,types:["grass"]},{index:56,types:["grass"]},{index:57,types:["grass","hero"]},{index:58,types:["water"]},{index:59,Decor2:[320,387],types:["water","Decor2"]},{index:60,types:["water"]},{index:61,types:["grass"]},{index:62,
types:["grass"]},{index:63,types:["water"]},{index:64,types:["grass","spikes0"]},{index:65,types:["water"]},{index:66,types:["water"]},{index:67,types:["water"]},{index:68,types:["grass"]},{index:69,types:["grass"]},{index:70,types:["grass"]},{index:71,types:["grass","exit"]},{index:72,types:["grass"]},{index:73,types:["grass","star0"]},{index:74,types:["grass"]},{index:75,types:["grass"]},{index:76,types:["grass"]},{index:77,types:["grass"]},{index:78,types:["grass","stone1"]},{index:79,types:["grass"]},
{index:80,types:["grass"]}];b.level9=[{index:0,types:["grass"]},{index:1,types:["grass","trap"]},{index:2,types:["grass"]},{index:3,types:["grass"]},{index:4,types:["grass"]},{index:5,types:["grass","pine0"]},{index:6,types:["grass"]},{index:7,types:["grass"]},{index:8,types:["grass"]},{index:9,types:["grass","star0"]},{index:10,types:["water"]},{index:11,Decor2:[116,89],types:["water","Decor2"]},{index:12,types:["grass","hero"]},{index:13,types:["water"]},{index:14,types:["water"]},{index:15,types:["grass"]},
{index:16,types:["grass"]},{index:17,types:["grass","star2"]},{index:18,types:["grass"]},{index:19,types:["grass"]},{index:20,types:["water"]},{index:21,types:["grass"]},{index:22,types:["grass","wolwpig"]},{index:23,types:["grass"]},{index:24,types:["grass","arrow"]},{index:25,types:["grass","tower"]},{index:26,types:["water"]},{index:27,types:["water"]},{index:28,Decor1:[62,183],types:["grass","Decor1"]},{index:29,types:["grass"]},{index:30,Decor4:[220,212],types:["grass","Decor4"]},{index:31,types:["grass"]},
{index:32,types:["water"]},{index:33,types:["grass"]},{index:34,types:["grass"]},{index:35,types:["water"]},{index:36,types:["water"]},{index:37,types:["water"]},{index:38,types:["grass","stone0"]},{index:39,types:["water"]},{index:40,types:["grass"]},{index:41,Decor0:[316,235],types:["water","Decor0"]},{index:42,types:["water"]},{index:43,types:["grass"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["grass"]},{index:47,types:["grass"]},{index:48,types:["water"]},{index:49,
types:["grass"]},{index:50,types:["grass"]},{index:51,types:["grass"]},{index:52,types:["grass","pine2"]},{index:53,types:["grass"]},{index:54,types:["grass"]},{index:55,types:["water"]},{index:56,types:["grass","pine1"]},{index:57,types:["grass"]},{index:58,types:["grass","wolwpig"]},{index:59,types:["grass","stone1"]},{index:60,types:["grass"]},{index:61,types:["water"]},{index:62,Decor3:[496,397],types:["grass","Decor3"]},{index:63,types:["grass","tower"]},{index:64,types:["water","arrow"]},{index:65,
types:["grass"]},{index:66,types:["grass"]},{index:67,types:["water"]},{index:68,types:["grass"]},{index:69,types:["grass"]},{index:70,types:["water"]},{index:71,types:["grass"]},{index:72,types:["grass"]},{index:73,types:["water"]},{index:74,types:["grass","exit"]},{index:75,types:["grass"]},{index:76,types:["water"]},{index:77,Decor2:[315,508],types:["water","Decor2"]},{index:78,types:["grass"]},{index:79,types:["grass","star1"]},{index:80,types:["grass"]}];b.level10=[{index:0,types:["grass"]},
{index:1,types:["grass"]},{index:2,types:["grass"]},{index:3,types:["water","brige1"]},{index:4,types:["grass"]},{index:5,types:["grass","pine0"]},{index:6,types:["grass"]},{index:7,types:["grass"]},{index:8,types:["water"]},{index:9,Decor3:[11,93],types:["grass","Decor3"]},{index:10,types:["grass","hero"]},{index:11,types:["water"]},{index:12,types:["water"]},{index:13,types:["grass"]},{index:14,types:["grass"]},{index:15,types:["grass","mill"]},{index:16,types:["water"]},{index:17,types:["water"]},
{index:18,types:["grass"]},{index:19,types:["water"]},{index:20,types:["water"]},{index:21,types:["grass","tower"]},{index:22,types:["grass","arrow"]},{index:23,types:["water"]},{index:24,types:["water"]},{index:25,types:["water"]},{index:26,types:["grass","star1"]},{index:27,types:["water","brige0"]},{index:28,types:["water"]},{index:29,types:["grass"]},{index:30,types:["grass"]},{index:31,types:["grass"]},{index:32,types:["water"]},{index:33,Decor2:[336,167],types:["water","Decor2"]},{index:34,
types:["grass"]},{index:35,types:["grass"]},{index:36,types:["grass","wolwpig"]},{index:37,types:["grass"]},{index:38,types:["grass"]},{index:39,types:["grass"]},{index:40,types:["grass","wolwpig"]},{index:41,types:["water","brige1"]},{index:42,types:["grass"]},{index:43,types:["grass","stone1"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["grass"]},{index:47,types:["grass","stump"]},{index:48,types:["water"]},{index:49,types:["water"]},{index:50,types:["water"]},{index:51,
types:["grass"]},{index:52,types:["grass"]},{index:53,types:["grass"]},{index:54,types:["grass","boulder"]},{index:55,types:["grass","boulderMark"]},{index:56,types:["water"]},{index:57,types:["water"]},{index:58,Decor0:[229,347],types:["water","Decor0"]},{index:59,types:["grass"]},{index:60,Decor4:[394,372],types:["grass","Decor4"]},{index:61,types:["water"]},{index:62,types:["water"]},{index:63,types:["grass","star0"]},{index:64,types:["water"]},{index:65,Decor2:[118,436],types:["water","Decor2"]},
{index:66,types:["water"]},{index:67,types:["grass","star2"]},{index:68,types:["grass"]},{index:69,types:["water"]},{index:70,types:["water"]},{index:71,types:["grass","exit"]},{index:72,types:["water"]},{index:73,types:["water"]},{index:74,types:["grass","wolwpig"]},{index:75,types:["grass"]},{index:76,types:["grass"]},{index:77,types:["grass"]},{index:78,types:["water","brige1"]},{index:79,types:["grass"]},{index:80,types:["grass","wolwpig"]}];b.level11=[{index:0,types:["grass"]},{index:1,types:["grass"]},
{index:2,types:["grass"]},{index:3,types:["water"]},{index:4,types:["water"]},{index:5,types:["grass","star1"]},{index:6,types:["grass"]},{index:7,types:["water"]},{index:8,Decor1:[487,6],types:["grass","Decor1"]},{index:9,types:["grass","pine2"]},{index:10,types:["water"]},{index:11,types:["grass","star0"]},{index:12,types:["water"]},{index:13,types:["grass","wolwpig"]},{index:14,types:["grass"]},{index:15,types:["grass"]},{index:16,types:["water"]},{index:17,types:["grass","exit"]},{index:18,types:["grass",
"star2"]},{index:19,types:["water"]},{index:20,types:["grass"]},{index:21,types:["water"]},{index:22,types:["grass"]},{index:23,types:["grass","pine1"]},{index:24,types:["water"]},{index:25,types:["water"]},{index:26,types:["grass"]},{index:27,types:["grass"]},{index:28,types:["water"]},{index:29,types:["grass"]},{index:30,Decor3:[211,207],types:["grass","Decor3"]},{index:31,types:["grass"]},{index:32,types:["grass"]},{index:33,types:["grass","wolwpig"]},{index:34,types:["water"]},{index:35,types:["water",
"brige0"]},{index:36,types:["grass"]},{index:37,types:["water"]},{index:38,Decor2:[112,270],types:["water","Decor2"]},{index:39,types:["water"]},{index:40,types:["grass"]},{index:41,types:["grass","stone1"]},{index:42,types:["grass"]},{index:43,types:["grass"]},{index:44,types:["grass","spikes0"]},{index:45,types:["grass","boulderMark"]},{index:46,types:["grass","boulder"]},{index:47,types:["water"]},{index:48,types:["grass"]},{index:49,types:["grass"]},{index:50,types:["grass"]},{index:51,types:["grass"]},
{index:52,Decor4:[450,329],types:["grass","Decor4"]},{index:53,types:["water"]},{index:54,types:["grass"]},{index:55,types:["grass"]},{index:56,types:["water"]},{index:57,types:["grass"]},{index:58,types:["grass","wolwpig"]},{index:59,types:["water"]},{index:60,types:["grass","wolwpig"]},{index:61,types:["water"]},{index:62,types:["water"]},{index:63,types:["grass"]},{index:64,types:["grass","hero"]},{index:65,types:["grass"]},{index:66,types:["grass"]},{index:67,types:["water"]},{index:68,types:["water"]},
{index:69,types:["grass"]},{index:70,types:["grass"]},{index:71,types:["grass","stump"]},{index:72,types:["grass"]},{index:73,types:["grass"]},{index:74,types:["grass","pine0"]},{index:75,types:["water"]},{index:76,Decor2:[263,469],types:["water","Decor2"]},{index:77,types:["grass"]},{index:78,types:["grass"]},{index:79,types:["grass","mill"]},{index:80,types:["grass"]}];b.level12=[{index:0,types:["grass","pine0"]},{index:1,types:["grass"]},{index:2,types:["grass","star0"]},{index:3,types:["grass"]},
{index:4,types:["water"]},{index:5,types:["grass"]},{index:6,types:["grass"]},{index:7,Decor4:[433,30],types:["grass","Decor4"]},{index:8,types:["grass"]},{index:9,types:["grass"]},{index:10,types:["grass"]},{index:11,types:["grass","stump"]},{index:12,types:["water"]},{index:13,types:["water"]},{index:14,types:["grass","wolwpig"]},{index:15,types:["grass"]},{index:16,types:["grass"]},{index:17,types:["grass","wolwpig"]},{index:18,types:["grass","tower"]},{index:19,types:["grass","arrow"]},{index:20,
types:["grass"]},{index:21,types:["water","brige1"]},{index:22,types:["grass"]},{index:23,types:["grass"]},{index:24,types:["grass","pine2"]},{index:25,types:["water"]},{index:26,types:["grass"]},{index:27,types:["water"]},{index:28,types:["water"]},{index:29,types:["water"]},{index:30,types:["water"]},{index:31,types:["water"]},{index:32,types:["water","brige0"]},{index:33,types:["water"]},{index:34,types:["water"]},{index:35,types:["water","brige0"]},{index:36,types:["grass"]},{index:37,types:["grass"]},
{index:38,Decor0:[134,222],types:["water","Decor0"]},{index:39,types:["grass","star2"]},{index:40,types:["grass","wolwpig"]},{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["grass","trap"]},{index:44,types:["grass"]},{index:45,types:["grass"]},{index:46,types:["grass","hero"]},{index:47,types:["water"]},{index:48,types:["water"]},{index:49,types:["grass"]},{index:50,Decor1:[312,324],types:["grass","Decor1"]},{index:51,types:["water"]},{index:52,types:["grass","star1"]},{index:53,
types:["grass"]},{index:54,types:["grass"]},{index:55,types:["grass","stone1"]},{index:56,types:["water"]},{index:57,types:["grass"]},{index:58,types:["grass"]},{index:59,types:["water"]},{index:60,Decor2:[350,386],types:["water","Decor2"]},{index:61,types:["water"]},{index:62,types:["grass"]},{index:63,types:["grass"]},{index:64,types:["water"]},{index:65,types:["water"]},{index:66,types:["grass","pine1"]},{index:67,types:["grass"]},{index:68,types:["water"]},{index:69,types:["grass","exit"]},{index:70,
types:["grass"]},{index:71,Decor4:[492,426],types:["grass","Decor4"]},{index:72,types:["grass"]},{index:73,Decor3:[67,510],types:["grass","Decor3"]},{index:74,types:["grass"]},{index:75,types:["grass"]},{index:76,types:["grass","wolwpig"]},{index:77,types:["water"]},{index:78,types:["grass"]},{index:79,types:["grass","arrow"]},{index:80,types:["grass","tower"]}];b.level13=[{index:0,types:["water"]},{index:1,types:["grass"]},{index:2,types:["grass"]},{index:3,types:["grass"]},{index:4,types:["grass",
"stone1"]},{index:5,types:["grass"]},{index:6,types:["grass"]},{index:7,types:["grass"]},{index:8,types:["grass","star1"]},{index:9,types:["water"]},{index:10,types:["grass","mill"]},{index:11,types:["water"]},{index:12,types:["water"]},{index:13,types:["water"]},{index:14,Decor2:[334,86],types:["water","Decor2"]},{index:15,types:["water","brige0"]},{index:16,types:["water"]},{index:17,types:["grass"]},{index:18,Decor2:[18,145],types:["water","Decor2"]},{index:19,types:["grass"]},{index:20,types:["water"]},
{index:21,Decor1:[204,131],types:["grass","Decor1"]},{index:22,types:["grass"]},{index:23,types:["grass"]},{index:24,types:["grass"]},{index:25,types:["water","arrow"]},{index:26,types:["grass","tower"]},{index:27,types:["water"]},{index:28,types:["grass","star2"]},{index:29,types:["water"]},{index:30,types:["grass"]},{index:31,types:["water"]},{index:32,types:["water"]},{index:33,types:["grass"]},{index:34,types:["water","brige1"]},{index:35,types:["grass"]},{index:36,types:["water"]},{index:37,
types:["grass"]},{index:38,types:["water"]},{index:39,types:["grass"]},{index:40,types:["grass","exit"]},{index:41,types:["water"]},{index:42,types:["grass","pine2"]},{index:43,types:["water"]},{index:44,types:["grass"]},{index:45,types:["water"]},{index:46,types:["grass"]},{index:47,types:["water"]},{index:48,types:["water"]},{index:49,types:["water"]},{index:50,types:["water"]},{index:51,types:["grass"]},{index:52,types:["water","brige1"]},{index:53,types:["grass"]},{index:54,Decor0:[14,345],types:["water",
"Decor0"]},{index:55,types:["grass"]},{index:56,types:["grass"]},{index:57,types:["grass"]},{index:58,types:["grass"]},{index:59,Decor4:[311,387],types:["grass","Decor4"]},{index:60,types:["grass"]},{index:61,types:["water","arrow"]},{index:62,types:["grass","tower"]},{index:63,types:["water"]},{index:64,types:["water"]},{index:65,types:["water","brige0"]},{index:66,types:["water"]},{index:67,types:["water"]},{index:68,types:["water"]},{index:69,types:["grass","spikes0"]},{index:70,types:["water"]},
{index:71,types:["grass"]},{index:72,types:["grass"]},{index:73,types:["grass","hero"]},{index:74,types:["grass"]},{index:75,types:["grass","spikes0"]},{index:76,types:["grass"]},{index:77,types:["grass"]},{index:78,types:["grass"]},{index:79,types:["grass","star0"]},{index:80,types:["grass","pine0"]}];b.level14=[{index:0,types:["grass","wolwpig"]},{index:1,types:["grass"]},{index:2,types:["grass"]},{index:3,types:["grass"]},{index:4,types:["grass"]},{index:5,types:["grass"]},{index:6,types:["grass",
"wolwpig"]},{index:7,types:["water"]},{index:8,types:["water"]},{index:9,types:["grass"]},{index:10,types:["grass","pine2"]},{index:11,types:["grass"]},{index:12,types:["water"]},{index:13,types:["grass","star2"]},{index:14,types:["water"]},{index:15,types:["water"]},{index:16,types:["water"]},{index:17,types:["grass","star0"]},{index:18,types:["grass"]},{index:19,types:["water"]},{index:20,types:["water"]},{index:21,types:["water"]},{index:22,types:["grass","stump"]},{index:23,types:["grass"]},{index:24,
types:["water"]},{index:25,types:["grass","pine0"]},{index:26,types:["grass"]},{index:27,Decor3:[31,208],types:["grass","Decor3"]},{index:28,types:["grass"]},{index:29,types:["water"]},{index:30,Decor0:[150,153],types:["water","Decor0"]},{index:31,types:["water"]},{index:32,types:["grass","wolwpig"]},{index:33,Decor4:[366,188],types:["grass","Decor4"]},{index:34,types:["grass"]},{index:35,types:["grass","wolwpig"]},{index:36,types:["grass"]},{index:37,types:["grass"]},{index:38,types:["grass"]},{index:39,
types:["grass","hero"]},{index:40,types:["grass"]},{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["water"]},{index:44,types:["water","brige0"]},{index:45,types:["grass","spikes0"]},{index:46,types:["water"]},{index:47,types:["water"]},{index:48,types:["water"]},{index:49,types:["water"]},{index:50,types:["water","brige0"]},{index:51,Decor2:[380,290],types:["water","Decor2"]},{index:52,types:["grass"]},{index:53,types:["grass"]},{index:54,types:["grass","star1"]},{index:55,
types:["water"]},{index:56,types:["grass","stump"]},{index:57,types:["grass","stone1"]},{index:58,types:["water"]},{index:59,types:["grass"]},{index:60,types:["grass"]},{index:61,types:["grass","arrow"]},{index:62,types:["grass","tower"]},{index:63,types:["water"]},{index:64,types:["water"]},{index:65,types:["water"]},{index:66,Decor2:[174,443],types:["water","Decor2"]},{index:67,types:["water"]},{index:68,types:["grass"]},{index:69,types:["water"]},{index:70,types:["water"]},{index:71,types:["water"]},
{index:72,types:["water"]},{index:73,types:["grass","mill"]},{index:74,types:["grass"]},{index:75,types:["grass"]},{index:76,Decor1:[246,501],types:["grass","Decor1"]},{index:77,types:["grass"]},{index:78,types:["water","brige1"]},{index:79,types:["grass","exit"]},{index:80,types:["grass"]}];b.level15=[{index:0,types:["water"]},{index:1,types:["grass","star1"]},{index:2,types:["grass"]},{index:3,types:["water"]},{index:4,types:["water"]},{index:5,types:["water"]},{index:6,types:["grass"]},{index:7,
types:["grass","pine0"]},{index:8,types:["grass"]},{index:9,types:["water"]},{index:10,types:["grass"]},{index:11,types:["water"]},{index:12,Decor0:[192,46],types:["water","Decor0"]},{index:13,types:["grass","stone0"]},{index:14,types:["grass"]},{index:15,types:["grass"]},{index:16,types:["grass"]},{index:17,types:["grass","wolwpig"]},{index:18,types:["grass","boulder"]},{index:19,types:["grass","boulderMark"]},{index:20,types:["grass","trap"]},{index:21,types:["grass"]},{index:22,types:["grass"]},
{index:23,types:["grass"]},{index:24,types:["water"]},{index:25,types:["grass","exit"]},{index:26,types:["grass"]},{index:27,types:["grass"]},{index:28,types:["grass"]},{index:29,types:["grass"]},{index:30,Decor3:[209,202],types:["grass","Decor3"]},{index:31,types:["water"]},{index:32,types:["grass","spikes0"]},{index:33,types:["water"]},{index:34,types:["water"]},{index:35,types:["grass"]},{index:36,types:["grass"]},{index:37,types:["water"]},{index:38,types:["grass","pine2"]},{index:39,types:["water"]},
{index:40,types:["water"]},{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["grass","pine1"]},{index:44,types:["grass","wolwpig"]},{index:45,types:["water","brige0"]},{index:46,types:["water"]},{index:47,types:["water"]},{index:48,types:["water"]},{index:49,types:["grass","mill"]},{index:50,types:["grass"]},{index:51,types:["grass"]},{index:52,types:["grass"]},{index:53,types:["grass"]},{index:54,types:["grass","wolwpig"]},{index:55,types:["grass"]},{index:56,types:["grass"]},
{index:57,types:["grass"]},{index:58,types:["grass"]},{index:59,types:["grass","wolwpig"]},{index:60,types:["grass","boulderMark"]},{index:61,types:["grass","boulder"]},{index:62,types:["grass","stump"]},{index:63,types:["grass"]},{index:64,Decor1:[69,447],types:["grass","Decor1"]},{index:65,types:["grass","hero"]},{index:66,types:["grass","stone1"]},{index:67,types:["grass"]},{index:68,types:["water"]},{index:69,types:["water"]},{index:70,types:["grass","star0"]},{index:71,types:["grass"]},{index:72,
types:["water"]},{index:73,types:["water"]},{index:74,types:["grass"]},{index:75,types:["grass","trap"]},{index:76,types:["grass"]},{index:77,types:["grass","star2"]},{index:78,types:["water"]},{index:79,types:["water"]},{index:80,Decor2:[464,509],types:["water","Decor2"]}];b.level16=[{index:0,types:["water"]},{index:1,types:["water"]},{index:2,types:["water"]},{index:3,types:["grass","pine0"]},{index:4,types:["water"]},{index:5,types:["grass"]},{index:6,types:["grass"]},{index:7,types:["grass"]},
{index:8,types:["water"]},{index:9,types:["grass"]},{index:10,types:["grass","hero"]},{index:11,Decor3:[156,91],types:["grass","Decor3"]},{index:12,types:["grass"]},{index:13,types:["water"]},{index:14,types:["grass"]},{index:15,types:["grass","stone0"]},{index:16,types:["grass"]},{index:17,types:["water"]},{index:18,types:["water"]},{index:19,types:["water"]},{index:20,types:["water"]},{index:21,types:["grass"]},{index:22,types:["water"]},{index:23,types:["grass"]},{index:24,types:["water"]},{index:25,
types:["grass","arrow"]},{index:26,types:["grass","tower"]},{index:27,types:["grass"]},{index:28,types:["grass"]},{index:29,types:["grass"]},{index:30,types:["grass","wolwpig"]},{index:31,Decor2:[254,170],types:["water","Decor2"]},{index:32,types:["grass","star2"]},{index:33,types:["water"]},{index:34,types:["grass"]},{index:35,types:["grass","stump"]},{index:36,types:["grass","star1"]},{index:37,types:["water"]},{index:38,types:["water"]},{index:39,types:["water","brige0"]},{index:40,types:["water"]},
{index:41,types:["grass"]},{index:42,types:["water"]},{index:43,types:["grass","arrow"]},{index:44,types:["grass","tower"]},{index:45,types:["grass"]},{index:46,Decor1:[70,329],types:["grass","Decor1"]},{index:47,types:["grass"]},{index:48,types:["grass"]},{index:49,types:["grass"]},{index:50,types:["grass"]},{index:51,types:["grass","pine0"]},{index:52,types:["grass"]},{index:53,types:["water"]},{index:54,types:["water"]},{index:55,types:["water"]},{index:56,types:["water"]},{index:57,types:["water",
"brige0"]},{index:58,types:["water"]},{index:59,types:["water"]},{index:60,types:["water"]},{index:61,types:["grass","star0"]},{index:62,types:["water"]},{index:63,types:["grass"]},{index:64,types:["grass"]},{index:65,types:["grass"]},{index:66,types:["grass","wolwpig"]},{index:67,types:["grass"]},{index:68,Decor4:[334,430],types:["grass","Decor4"]},{index:69,types:["grass"]},{index:70,types:["grass","arrow"]},{index:71,types:["grass","tower"]},{index:72,types:["grass","exit"]},{index:73,types:["water"]},
{index:74,types:["water"]},{index:75,types:["water"]},{index:76,types:["grass","pine2"]},{index:77,types:["water"]},{index:78,types:["water"]},{index:79,types:["water"]},{index:80,types:["water"]}];b.level17=[{index:0,types:["water"]},{index:1,types:["grass","pine2"]},{index:2,types:["water"]},{index:3,types:["grass"]},{index:4,types:["grass","star0"]},{index:5,types:["grass"]},{index:6,types:["water"]},{index:7,types:["grass","pine0"]},{index:8,types:["water"]},{index:9,types:["water"]},{index:10,
types:["grass"]},{index:11,types:["water"]},{index:12,types:["grass","spikes0"]},{index:13,types:["water"]},{index:14,types:["grass","spikes0"]},{index:15,types:["water"]},{index:16,types:["grass"]},{index:17,types:["water"]},{index:18,types:["grass","stone1"]},{index:19,types:["grass"]},{index:20,types:["grass","wolwpig"]},{index:21,types:["grass"]},{index:22,types:["grass"]},{index:23,types:["grass"]},{index:24,types:["grass","wolwpig"]},{index:25,types:["grass"]},{index:26,types:["grass","stone0"]},
{index:27,types:["water"]},{index:28,types:["water"]},{index:29,types:["grass"]},{index:30,types:["water"]},{index:31,types:["water","brige0"]},{index:32,types:["water"]},{index:33,types:["grass"]},{index:34,types:["water"]},{index:35,types:["water"]},{index:36,types:["grass","hero"]},{index:37,types:["grass"]},{index:38,types:["grass"]},{index:39,types:["water"]},{index:40,types:["grass","exit"]},{index:41,types:["water"]},{index:42,types:["grass"]},{index:43,types:["grass"]},{index:44,types:["grass",
"stump"]},{index:45,types:["water"]},{index:46,types:["water"]},{index:47,Decor1:[147,310],types:["grass","Decor1"]},{index:48,types:["water"]},{index:49,Decor2:[256,327],types:["water","Decor2"]},{index:50,types:["water"]},{index:51,Decor3:[370,321],types:["grass","Decor3"]},{index:52,types:["water"]},{index:53,types:["water"]},{index:54,types:["grass","tower"]},{index:55,types:["grass","arrow"]},{index:56,types:["grass"]},{index:57,types:["grass"]},{index:58,types:["grass"]},{index:59,types:["grass"]},
{index:60,types:["grass"]},{index:61,types:["grass","arrow"]},{index:62,types:["grass","tower"]},{index:63,types:["water"]},{index:64,types:["grass","boulderMark"]},{index:65,types:["grass","boulder"]},{index:66,types:["grass"]},{index:67,types:["water"]},{index:68,types:["grass"]},{index:69,types:["grass","boulder"]},{index:70,types:["grass","boulderMark"]},{index:71,types:["water"]},{index:72,types:["water"]},{index:73,types:["grass","star1"]},{index:74,types:["water"]},{index:75,types:["grass",
"stump"]},{index:76,Decor0:[253,472],types:["water","Decor0"]},{index:77,types:["grass","mill"]},{index:78,types:["water"]},{index:79,types:["grass","star2"]},{index:80,types:["water"]}];b.level18=[{index:0,types:["water"]},{index:1,types:["water"]},{index:2,types:["grass","pine2"]},{index:3,types:["water"]},{index:4,types:["water"]},{index:5,types:["water"]},{index:6,types:["grass","stone0"]},{index:7,types:["water"]},{index:8,Decor2:[474,24],types:["water","Decor2"]},{index:9,types:["grass","tower"]},
{index:10,types:["grass","arrow"]},{index:11,types:["grass"]},{index:12,types:["grass"]},{index:13,types:["grass","wolwpig"]},{index:14,types:["grass"]},{index:15,types:["grass"]},{index:16,types:["grass","arrow"]},{index:17,types:["grass","tower"]},{index:18,types:["water"]},{index:19,types:["water"]},{index:20,types:["grass","hero"]},{index:21,types:["water"]},{index:22,types:["water","brige0"]},{index:23,types:["water"]},{index:24,types:["grass","star1"]},{index:25,types:["water"]},{index:26,types:["water"]},
{index:27,types:["grass","tower"]},{index:28,types:["grass","arrow"]},{index:29,types:["grass","trap"]},{index:30,Decor1:[192,202],types:["grass","Decor1"]},{index:31,types:["grass"]},{index:32,types:["grass"]},{index:33,types:["grass"]},{index:34,types:["grass","arrow"]},{index:35,types:["grass","tower"]},{index:36,types:["water"]},{index:37,types:["water"]},{index:38,types:["water"]},{index:39,types:["water"]},{index:40,types:["grass","star0"]},{index:41,types:["water"]},{index:42,Decor0:[340,255],
types:["water","Decor0"]},{index:43,types:["water"]},{index:44,types:["water"]},{index:45,types:["grass","tower"]},{index:46,types:["grass","arrow"]},{index:47,types:["grass"]},{index:48,types:["grass"]},{index:49,types:["grass"]},{index:50,types:["grass","trap"]},{index:51,types:["grass"]},{index:52,types:["grass","arrow"]},{index:53,types:["grass","tower"]},{index:54,types:["water"]},{index:55,types:["water"]},{index:56,types:["grass","star2"]},{index:57,types:["water"]},{index:58,types:["water",
"brige0"]},{index:59,types:["water"]},{index:60,types:["grass","exit"]},{index:61,types:["water"]},{index:62,types:["water"]},{index:63,types:["grass","tower"]},{index:64,types:["grass","arrow"]},{index:65,types:["grass"]},{index:66,types:["grass"]},{index:67,types:["grass","wolwpig"]},{index:68,Decor3:[330,454],types:["grass","Decor3"]},{index:69,types:["grass"]},{index:70,types:["grass","arrow"]},{index:71,types:["grass","tower"]},{index:72,types:["water"]},{index:73,types:["water"]},{index:74,
types:["grass","stone1"]},{index:75,types:["water"]},{index:76,types:["water"]},{index:77,types:["water"]},{index:78,types:["grass","pine0"]},{index:79,types:["water"]},{index:80,types:["water"]}];b.level19=[{index:0,types:["water"]},{index:1,types:["grass"]},{index:2,types:["grass","star1"]},{index:3,types:["water"]},{index:4,types:["grass","stump"]},{index:5,types:["water"]},{index:6,types:["grass"]},{index:7,types:["grass","star0"]},{index:8,types:["water"]},{index:9,types:["water"]},{index:10,
types:["grass","boulder"]},{index:11,types:["grass","boulderMark"]},{index:12,types:["water"]},{index:13,types:["water"]},{index:14,types:["water"]},{index:15,types:["grass"]},{index:16,types:["grass","exit"]},{index:17,types:["water"]},{index:18,types:["water"]},{index:19,types:["water"]},{index:20,types:["grass"]},{index:21,types:["water"]},{index:22,types:["grass","pine2"]},{index:23,types:["water"]},{index:24,types:["grass","spikes0"]},{index:25,types:["water"]},{index:26,types:["water"]},{index:27,
types:["grass"]},{index:28,types:["water","brige1"]},{index:29,types:["grass","wolwpig"]},{index:30,types:["grass"]},{index:31,types:["grass"]},{index:32,types:["grass"]},{index:33,types:["grass","wolwpig"]},{index:34,types:["water","brige1"]},{index:35,types:["grass"]},{index:36,types:["grass"]},{index:37,types:["water"]},{index:38,types:["water"]},{index:39,types:["grass"]},{index:40,types:["grass"]},{index:41,Decor3:[308,251],types:["grass","Decor3"]},{index:42,types:["water"]},{index:43,types:["water"]},
{index:44,types:["grass","wolwpig"]},{index:45,types:["grass","hero"]},{index:46,types:["water"]},{index:47,Decor0:[110,291],types:["water","Decor0"]},{index:48,types:["water"]},{index:49,types:["grass","mill"]},{index:50,types:["water"]},{index:51,types:["water"]},{index:52,Decor2:[404,292],types:["water","Decor2"]},{index:53,types:["grass"]},{index:54,types:["grass"]},{index:55,types:["grass"]},{index:56,types:["water"]},{index:57,types:["water"]},{index:58,types:["water"]},{index:59,types:["water"]},
{index:60,types:["water"]},{index:61,types:["grass"]},{index:62,types:["grass","wolwpig"]},{index:63,types:["water"]},{index:64,types:["grass"]},{index:65,Decor4:[135,449],types:["grass","Decor4"]},{index:66,types:["water"]},{index:67,types:["grass","pine0"]},{index:68,types:["water"]},{index:69,types:["grass"]},{index:70,types:["grass","star2"]},{index:71,types:["water"]},{index:72,types:["water"]},{index:73,types:["grass","tower"]},{index:74,types:["grass","arrow"]},{index:75,types:["grass"]},{index:76,
types:["grass","spikes0"]},{index:77,types:["grass"]},{index:78,types:["grass","arrow"]},{index:79,types:["grass","stone0"]},{index:80,types:["water"]}];return b}(),ManagerBg=function(b){function a(){b.call(this);this._typeBDs=[ImagesRes.GAME_BG,ImagesRes.UI_LEVEL_BOARD,ImagesRes.LEVEL_SELECT_TITLE,ImagesRes.ACHIEVEMENS_TITLE,ImagesRes.LEVELS_BG,ImagesRes.VICTORY_BOTTOM,ImagesRes.VICTORY_TOP,ImagesRes.SPEAR_UI+"0",ImagesRes.SPEAR_UI+"1",ImagesRes.CREDITS_TITLE];this._cacheBDs={};this.snapToPixel=
!0;this.mouseChildren=this.mouseEnabled=!1}__extends(a,b);a.prototype.init=function(){for(var c=0;c<this._typeBDs.length;c++)this.addToCache(this._typeBDs[c])};a.prototype.addToCache=function(c,a){var b;b=a?a:ImagesRes.getImage(c);b=new createjs.Bitmap(b);b.snapToPixel=!0;this.addChild(b);b.visible=!1;this._cacheBDs[c]=b};a.prototype.addBitmaps=function(c){this.clear();for(var a,b=0;b<c.length;b++)a=this._cacheBDs[c[b].type],a.visible=!0,this.addChild(a),a.x=c[b].x,a.y=c[b].y;this.update()};a.prototype.clear=
function(){for(var c in this._cacheBDs)this._cacheBDs[c].visible=!1;this.update()};a.prototype.dispose=function(c){for(var a,b=0;b<c.length;b++)a=this._cacheBDs[c[b]],this.removeChild(a),delete this._cacheBDs[c[b]];this.update()};a.prototype.update=function(){this.getStage().update()};a.prototype.addTiles=function(c,a){void 0===a&&(a=!1);var b=Config.STAGE_W-Config.WIDTH*Config.SIZE_W>>1,e=Config.MARGIN_TOP+Config.PADDING;a?this._decorBitmaps=[]:this._levelBitmaps=[];for(var g=0;g<c.length;g++)c[g].name==
ImagesRes.WATER&&0<=g-Config.WIDTH&&c[g-Config.WIDTH].name!=ImagesRes.WATER?this.addChildAt(c[g],this.getChildIndex(c[g-Config.WIDTH])):c[g].name==ImagesRes.WATER&&0<=g-1?this.addChildAt(c[g],this.getChildIndex(c[g-1])):this.addChild(c[g]),c[g].x+=b,c[g].y+=e,a?this._decorBitmaps.push(c[g]):this._levelBitmaps.push(c[g]);this.update()};a.prototype.removeTiles=function(){for(var c=0;c<this._levelBitmaps.length;c++)this.removeChild(this._levelBitmaps[c]);for(c=0;c<this._decorBitmaps.length;c++)this.removeChild(this._decorBitmaps[c]);
this._levelBitmaps.length=0;this._levelBitmaps=null;this._decorBitmaps.length=0;this._decorBitmaps=null;this.update()};return a}(createjs.Container),Level=function(){function b(a,c){this._container=a;this._model=c;this._units={};this._items=[];this._tilesBg=[];this._decorBg=[];var b;b=JSONRes.levelFromEditor?JSONRes.levelFromEditor:JSONRes.levels[Progress.currentLevel];for(var d,e,g=0;g<b.length;g++){d=b[g].index;e=b[g].types;for(var h=0;h<e.length;h++)this.checkCell(d,e[h],e,b[g])}Core.instance.bg.addTiles(this._tilesBg);
Core.instance.bg.addTiles(this._decorBg,!0);this._tilesBg.length=0;this._tilesBg=null;this._decorBg.length=0;this._decorBg=null;b=this._items.length;for(g=0;g<b;g++)this._items[g].init(g,this._model.grid,this._units)}b.prototype.checkCell=function(a,c,b,d){var e;b=this._model.grid;switch(c){case ImagesRes.HERO:this._hero=new Hero(a);this._container.addChild(this._hero);break;case ImagesRes.MILL:e=this._mill=new MillPress(c,a);this._container.addChild(e);b[a].isDear=!0;b[a].addType(c);b[a].objects.push(e);
break;case ImagesRes.STAR:b=b[a].add(c,this._container,b);new Star(b,a,c);break;case ImagesRes.TRAP:b=b[a].add(c,this._container,b);new Trap(b,a,c);break;case ImagesRes.BOULDER:a=new Boulder(c,a,b[a].add(c,this._container,b),b[a]);this._items.push(a);break;case ImagesRes.TOWER:c=new Tower(c,a,b[a].add(c,this._container,b),b[a]);this._units[a]=c;this._items.push(c);break;case ImagesRes.BOULDER_MARK:case ImagesRes.ARROW:b[a].addType(c);break;case ImagesRes.SPIKES+0:a=new Spikes(c,a,b[a].add(c,this._container,
b),b[a]);this._items.push(a);break;case ImagesRes.DECOR+0:case ImagesRes.DECOR+1:case ImagesRes.DECOR+2:case ImagesRes.DECOR+3:case ImagesRes.DECOR+4:a=b[a].add(c,this._container,b);a.x=d[c][0];a.y=d[c][1];this._decorBg.push(a);break;case ImagesRes.MONSTER:var g=0;for(e in this._units){d=this._units[e];if(d.type==c&&(d.x==b[a].x||d.y==b[a].y)){d.setPointIndex2(a);return}g++}d=new Monster(c,a,g);this._container.addChild(d);this._units[a]=d;this._items.push(d);break;case ImagesRes.GRASS:case ImagesRes.WATER:a=
b[a].add(c,this._container,b);this._tilesBg.push(a);break;default:b[a].add(c,this._container,b)}};b.prototype.destroy=function(){Core.instance.bg.removeTiles();for(var a=this._items.length,c=0;c<a;c++)this._items[c].destroy();this._mill=this._units=this._hero=this._container=this._model=null;this._items.length=0;this._items=null};Object.defineProperty(b.prototype,"hero",{get:function(){return this._hero},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mill",{get:function(){return this._mill},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"units",{get:function(){return this._units},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0});return b}(),Model=function(){function b(){this._grid=Array(Config.WIDTH*Config.HEIGHT);this.createGrid()}b.prototype.createGrid=function(){for(var a=0,c=0,b=this._grid.length,d=0;d<b;d++)c=Math.floor(d/Config.WIDTH)*Config.SIZE_H,a=(d-Math.floor(d/Config.WIDTH)*
Config.WIDTH)*Config.SIZE_W,this._grid[d]=new Tile(a,c,d)};b.prototype.saveProgress=function(){var a={};a.levelsCompleted=Progress.levelsCompleted;a.starsAllLevels=Progress.starsAllLevels;a.achs=Progress.achs;try{window.localStorage.setItem(Config.GAME_NAME+Config.GAME_VERSION+"Progress",JSON.stringify(a))}catch(c){}};b.prototype.loadProgress=function(){try{var a=window.localStorage.getItem(Config.GAME_NAME+Config.GAME_VERSION+"Progress")}catch(c){}a&&(a=JSON.parse(a),Progress.levelsCompleted=a.levelsCompleted,
Progress.starsAllLevels=a.starsAllLevels,Progress.achs=a.achs)};Object.defineProperty(b.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0});return b}(),SoundManager=function(){function b(){this._isMusic=this._isSFX=!0;this._currentLocation="";this._musicInstances={};this._musicPositions={};b.instance=this}b.prototype.setLocation=function(a){this._isMusic?a!=this._currentLocation&&(this.stopMusicTrack(),this._musicPositions[b.MUSIC_GAME]=0,this._musicPositions[b.MUSIC_MENU]=
0,this._currentLocation=a,this.playMusicTrack()):this._currentLocation=a};b.prototype.playMusicTrack=function(){this._musicPositions[this._currentLocation]||(this._musicPositions[this._currentLocation]=0);this._musicInstances[this._currentLocation]=createjs.Sound.play(this._currentLocation,"none",0,this._musicPositions[this._currentLocation],-1)};b.prototype.stopMusicTrack=function(){""!=this._currentLocation&&(this._musicPositions[this._currentLocation]=this._musicInstances[this._currentLocation].getPosition(),
this._musicInstances[this._currentLocation].stop())};b.prototype.muteOnOff=function(){this._isMusic==this._isSFX?(this.isMusic=!this._isMusic,this.isSFX=this._isMusic,this._currentButton&&this._currentButton.setState()):alert("use different button for sfx")};Object.defineProperty(b.prototype,"isSFX",{get:function(){return this._isSFX},set:function(a){this._isSFX=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isMusic",{get:function(){return this._isMusic},set:function(a){(this._isMusic=
a)?this.playMusicTrack():this.stopMusicTrack()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"savingState",{set:function(a){this._isSFX=this._isMusic=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"currentButton",{set:function(a){this._currentButton=a},enumerable:!0,configurable:!0});b.MUSIC_MENU="musicMenu";b.MUSIC_GAME="musicGame";return b}(),Tile=function(){function b(a,c,b){this.isWall=!0;this.isDear=!1;this.x=a;this.y=c;this.index=b;this.objects=[];
this.types=[]}b.prototype.add=function(a,c,b,d){void 0===b&&(b=null);void 0===d&&(d=!1);this.types.push(a);var e=this.getAlignedDO(a);this.objects.push(e);a!=ImagesRes.GRASS&&a!=ImagesRes.WATER&&-1==a.indexOf(ImagesRes.DECOR)&&c.addChild(e);d&&this.setCorrectIndex(e,c,b);return e};b.prototype.getAlignedDO=function(a){var c=ImagesRes.getImage(a);switch(a){case ImagesRes.HERO:case ImagesRes.MONSTER:a=new createjs.Bitmap(c);a.x=this.x;a.y=this.y+Config.SIZE_H-c.height-10;break;case ImagesRes.GRASS:a=
new createjs.Bitmap(c);a.x=this.x;a.y=this.y;this.isWall=!1;break;case ImagesRes.WATER:a=new createjs.Bitmap(c);a.x=this.x;a.y=this.y;a.name=ImagesRes.WATER;break;case ImagesRes.STAR+0:c=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_ITEMs[a]);c.framerate=30;c.x=this.x-10;c.y=this.y+Config.SIZE_H-c.getBounds().height-35;a=c;break;case ImagesRes.STAR+1:c=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_ITEMs[a]);c.framerate=20;c.x=this.x+0;c.y=this.y+Config.SIZE_H-c.getBounds().height-15;a=c;break;case ImagesRes.STAR+
2:c=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_ITEMs[a]);c.framerate=15;c.x=this.x+20;c.y=this.y+Config.SIZE_H-c.getBounds().height-5;a=c;break;case ImagesRes.TRAP:c=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_TRAP);c.framerate=30;c.x=this.x+6;c.y=this.y+9;a=c;break;case ImagesRes.PINE+0:case ImagesRes.PINE+1:case ImagesRes.PINE+2:case ImagesRes.STONE+0:case ImagesRes.STONE+1:case ImagesRes.STUMP:a=new createjs.Bitmap(c);a.x=this.x+(Config.SIZE_W-c.width>>1);a.y=this.y+(Config.SIZE_H-c.height>>
1);this.isWall=!0;break;case ImagesRes.BRIDGE+0:a=new createjs.Bitmap(c);a.x=this.x+(Config.SIZE_W-c.width>>1);a.y=this.y+(Config.SIZE_H-c.height>>1);this.isWall=!1;break;case ImagesRes.BRIDGE+1:a=new createjs.Bitmap(c);a.x=this.x+(Config.SIZE_W-c.width>>1);a.y=this.y-10;this.isWall=!1;break;case ImagesRes.SPIKES+0:a=new createjs.Bitmap(c);a.x=this.x+2;a.y=this.y+2;break;case ImagesRes.BOULDER:case ImagesRes.TOWER:a=new createjs.Bitmap(c);a.x=this.x;a.y=this.y;break;case ImagesRes.EXIT:a=new createjs.Bitmap(c);
a.x=this.x+3;a.y=this.y-13;break;default:a=new createjs.Bitmap(c),a.x=this.x+(Config.SIZE_W-c.width>>1),a.y=this.y+(Config.SIZE_H-c.height>>1)}a.snapToPixel=!0;return a};b.prototype.setCorrectIndex=function(a,c,b){for(var d=0,e=b.length,g=0;g<e;g++)if(d+=b[g].objects.length,g==this.index){c.addChildAt(a,d);break}};b.prototype.remove=function(a){a=this.types.indexOf(a);if(-1!=a){var c=this.objects[a];c.parent.removeChild(c);this.objects.splice(a,1);this.types.splice(a,1)}};b.prototype.addType=function(a){-1==
this.types.indexOf(a)&&this.types.push(a)};b.prototype.removeType=function(a){a=this.types.indexOf(a);-1!=a&&this.types.splice(a,1)};b.prototype.removeObject=function(a){a=this.objects.indexOf(a);-1!=a&&this.objects.splice(a,1)};b.prototype.getObject=function(a){var c=this.types.indexOf(a);if(-1!=c)return this.objects[c];alert("UNKNOWN TYPE:"+a);return null};b.prototype.isContainType=function(a){return-1!=this.types.indexOf(a)?!0:!1};b.prototype.isContainTypes=function(a){var c=this.types.indexOf(a+
0),b=this.types.indexOf(a+1),d=this.types.indexOf(a+2),e=this.types.indexOf(a+3);a=this.types.indexOf(a+4);return-1!=c||-1!=b||-1!=d||-1!=e||-1!=a?!0:!1};b.prototype.getConcreteType=function(a){var c=this.types.indexOf(a+0),b=this.types.indexOf(a+1),d=this.types.indexOf(a+2),e=this.types.indexOf(a+3);if(-1!=c)return a+0;if(-1!=b)return a+1;if(-1!=d)return a+2;if(-1!=e)return a+3};b.prototype.clear=function(){for(var a=0;a<this.objects.length;a++)this.objects[a].parent&&this.objects[a].parent.removeChild(this.objects[a]);
this.objects.length=0;this.types.length=0;this.isWall=!0;this.isDear=!1};b.prototype.getFirstIndex=function(){return 0==this.objects.length?-1:this.objects[0].parent.getChildIndex(this.objects[0])};b.prototype.getLastIndex=function(a){for(var c=Core.instance.model.grid,b=this.index,d=c[b].objects;-1==a.getChildIndex(d[1]);){b--;if(-1==b)return 0;d=c[b].objects}return a.getChildIndex(d[1])+1};b.prototype.getIndex=function(a){a=this.types.indexOf(a);return-1==a?-1:this.objects[a].parent.getChildIndex(this.objects[a])};
b.prototype.setIndex=function(a,c){var b;b=this.getLastIndex(a.parent);a.parent.addChildAt(a,b)};return b}(),Editor=function(b){function a(c){b.call(this);this._currentType=ImagesRes.GRASS;a.instance=this;this.visible=!1;this._grid=c;this.x=Config.STAGE_W-Config.WIDTH*Config.SIZE_W>>1;this.y=Config.MARGIN_TOP;c=new createjs.Graphics;var f=new createjs.Shape(c);this.addChild(f);c.beginFill("#CCCCCC");c.drawRect(0,0,Config.WIDTH*Config.SIZE_W,Config.HEIGHT*Config.SIZE_H);c.endFill();this._preview=new createjs.Bitmap(ImagesRes.getImage(this._currentType));
this.addChild(this._preview);this._preview.x=0;this._preview.y=-120;c=new createjs.Graphics;f=new createjs.Shape(c);this.addChild(f);c.setStrokeStyle(2);c.beginStroke("#FF0000");c.moveTo(1,1);c.lineTo(Config.SIZE_W-1,1);c.lineTo(Config.SIZE_W-1,Config.SIZE_H-1);c.lineTo(1,Config.SIZE_H-1);c.lineTo(1,1);f.x=-200;this._selectedTile=f;this.on(GUIEvent.MOUSE_CLICK,this.clickHandler,this)}__extends(a,b);a.prototype.clickHandler=function(c){this.visible&&(c=Utils.getIndex(c.localX,c.localY),0<=c&&100>c&&
(this._currentType!=ImagesRes.NONE?this.addTile(c):this._grid[c].clear(),this._index=c,this._selectedTile.x=this._grid[c].x,this._selectedTile.y=this._grid[c].y,this.allowDrag()))};a.prototype.allowDrag=function(){if(this._grid[this._index].isContainTypes(ImagesRes.DECOR)&&!this.hasEventListener(GUIEvent.PRESS_MOVE)&&this._grid[this._index].isContainType(this._currentType))this.on(GUIEvent.PRESS_MOVE,this.drugDecor,this);else this.removeAllEventListeners(GUIEvent.PRESS_MOVE),this.off(GUIEvent.PRESS_MOVE,
this.drugDecor)};a.prototype.drugDecor=function(c){c=this.globalToLocal(c.stageX,c.stageY);var a=this._grid[this._index].getObject(this._currentType);a.x=Math.floor(c.x);a.y=Math.floor(c.y)};a.prototype.addTile=function(c,a){void 0===a&&(a=null);var b;this._grid[c].isContainType(this._currentType)||(!a||this._currentType!=ImagesRes.DECOR+0&&this._currentType!=ImagesRes.DECOR+1&&this._currentType!=ImagesRes.DECOR+2&&this._currentType!=ImagesRes.DECOR+3&&this._currentType!=ImagesRes.DECOR+4?this._grid[c].add(this._currentType,
this,this._grid,!0):(b=this._grid[c].add(this._currentType,this,this._grid,!0),b.x=a[this._currentType][0],b.y=a[this._currentType][1]))};a.prototype.keyHandler=function(c){c=c=c.which||c.charCode||c.keyCode||0;switch(c){case 68:this._currentType=this._currentType==ImagesRes.DECOR+"0"?ImagesRes.DECOR+"1":this._currentType==ImagesRes.DECOR+"1"?ImagesRes.DECOR+"2":this._currentType==ImagesRes.DECOR+"2"?ImagesRes.DECOR+"3":this._currentType==ImagesRes.DECOR+"3"?ImagesRes.DECOR+"4":ImagesRes.DECOR+"0";
break;case 49:this._currentType=ImagesRes.GRASS;break;case 50:this._currentType=ImagesRes.MONSTER;break;case 51:this._currentType=this._currentType==ImagesRes.STONE+0?ImagesRes.STONE+1:this._currentType==ImagesRes.STONE+1?ImagesRes.STUMP:this._currentType==ImagesRes.STUMP?ImagesRes.PINE+0:this._currentType==ImagesRes.PINE+0?ImagesRes.PINE+1:this._currentType==ImagesRes.PINE+1?ImagesRes.PINE+2:ImagesRes.STONE+0;break;case 52:this._currentType=this._currentType==ImagesRes.WATER?ImagesRes.BRIDGE+0:this._currentType==
ImagesRes.BRIDGE+0?ImagesRes.BRIDGE+1:ImagesRes.WATER;break;case 53:this._currentType=this._currentType==ImagesRes.SPIKES+0?ImagesRes.BOULDER:this._currentType==ImagesRes.BOULDER?ImagesRes.BOULDER_MARK:this._currentType==ImagesRes.BOULDER_MARK?ImagesRes.TOWER:this._currentType==ImagesRes.TOWER?ImagesRes.ARROW:ImagesRes.SPIKES+0;break;case 54:this._currentType=this._currentType==ImagesRes.STAR+0?ImagesRes.STAR+1:this._currentType==ImagesRes.STAR+1?ImagesRes.STAR+2:ImagesRes.STAR+0;break;case 55:this._currentType=
this._currentType==ImagesRes.MILL?ImagesRes.TRAP:ImagesRes.MILL;break;case 56:this._currentType=ImagesRes.EXIT;break;case 57:this._currentType=ImagesRes.HERO;break;case 48:this._currentType=ImagesRes.NONE;break;case 81:Core.instance.debug.turnOnOff();break;case 27:this.clearLevel();this.dispatchEvent(new GameEvent(GameEvent.EDITOR_ON_OFF,!1,!1));JSONRes.levelFromEditor&&this.loadLevel(JSON.stringify(JSONRes.levelFromEditor));break;case 83:this.saveLevel();break;case 13:this.saveLevel(!0),this.clearLevel(),
this.dispatchEvent(new GameEvent(GameEvent.EDITOR_ON_OFF,!1,!1))}this._preview.image=ImagesRes.getImage(this._currentType)};a.prototype.saveLevel=function(c){void 0===c&&(c=!1);for(var a="[",b,e,g,h=0;h<this._grid.length;h++)if(0!=this._grid[h].objects.length){b=e="";for(var k=0;k<this._grid[h].types.length;k++)b+='"'+this._grid[h].types[k]+'",',this._grid[h].types[k].substr(0,this._grid[h].types[k].length-1)==ImagesRes.DECOR&&(g=this._grid[h].getObject(this._grid[h].types[k]),e+='"'+this._grid[h].types[k]+
'":['+g.x+","+g.y+"],");b=b.substr(0,b.length-1);b='{"index":'+h+","+e+'"types":['+b+"]},";a+=b}a=a.substr(0,a.length-1);a+="]";c?JSONRes.levelFromEditor=JSON.parse(a):writeJson(a)};a.prototype.loadLevel=function(c){a.instance.clearLevel();for(var b=JSON.parse(c),d,e=0;e<b.length;e++){c=b[e].index;d=b[e].types;for(var g=0;g<d.length;g++)a.instance._currentType=d[g],a.instance.addTile(c,b[e])}};a.prototype.clearLevel=function(){for(var c=this._grid,a=c.length,b=0;b<a;b++)c[b].clear()};return a}(createjs.Container),
GameEvent=function(b){function a(c,a,d){void 0===a&&(a=!1);void 0===d&&(d=!1);b.call(this,c,a,d)}__extends(a,b);a.GOTO_LEVEL="gotoLevel";a.UPDATE="tick";a.COMPLETE="complete";a.ANIMATION_COMPLETE="animationend";a.PROGRESS="progress";a.LEVEL_COMPLETE="levelComplete";a.RESTART="restart";a.COLLISION="collision";a.EDITOR_ON_OFF="editorOnOff";a.HERO_REACHED="heroReached";a.HERO_ONE_CELL_AWAY="heroOneCellAway";a.HERO_GET_TRAP="heroGetTrap";return a}(createjs.Event),GUIEvent=function(b){function a(c,a,d){void 0===
a&&(a=!1);void 0===d&&(d=!1);b.call(this,c,a,d)}__extends(a,b);a.MOUSE_CLICK="click";a.MOUSE_DOWN="mousedown";a.MOUSE_UP="pressup";a.PRESS_MOVE="pressmove";a.RESIZE="resize";a.ORIENTATION_CHANGE="orientationchange";a.GOTO_WINDOW="gotoWindow";a.BLIND_CLOSED="blindClosed";a.KEYDOWN="keydown";a.KEYUP="keyup";return a}(createjs.Event),Preloader=function(b){function a(){b.call(this);var c=[{src:"images/ui/back_main.png",id:ImagesRes.MAIN_BG},{src:"images/ui/spear_2.png",id:ImagesRes.SPEAR_UI+"2"},{src:"images/ui/title_game.png",
id:ImagesRes.MAIN_TITLE},{src:"images/ui/preload_bar.png",id:ImagesRes.PRELOADER_BAR},{src:"images/ui/mill_paddle_shadow.png",id:ImagesRes.UI_MILL},{src:"images/ui/bar_bg.png",id:ImagesRes.PRELOADER_BAR_BG}];this._loader=new createjs.LoadQueue(!1,"",!0);this._loader.on(GameEvent.COMPLETE,this.completeHandler,this);this._loader.loadManifest(c)}__extends(a,b);a.prototype.completeHandler=function(){this._loader.removeAllEventListeners();Core.instance.bg.addToCache(ImagesRes.MAIN_BG,this._loader.getResult(ImagesRes.MAIN_BG));
Core.instance.bg.addToCache(ImagesRes.SPEAR_UI+"2",this._loader.getResult(ImagesRes.SPEAR_UI+"2"));Core.instance.bg.addToCache(ImagesRes.MAIN_TITLE,this._loader.getResult(ImagesRes.MAIN_TITLE));Core.instance.bg.addToCache(ImagesRes.PRELOADER_BAR_BG,this._loader.getResult(ImagesRes.PRELOADER_BAR_BG));Core.instance.bg.addBitmaps([{type:ImagesRes.MAIN_BG,x:0,y:0},{type:ImagesRes.MAIN_TITLE,x:50,y:350},{type:ImagesRes.PRELOADER_BAR_BG,x:133,y:582},{type:ImagesRes.SPEAR_UI+"2",x:105,y:650}]);var c=this._loader.getResult(ImagesRes.PRELOADER_BAR);
this._progressWidth=c.width;this._progress=new createjs.Bitmap(c);this.addChild(this._progress);this._progress.mouseEnabled=!1;this._progress.x=145;this._progress.y=398;this._progress.sourceRect=new createjs.Rectangle(0,0,1,c.height);this._progress.mouseEnabled=!1;this.addMill();this.dispatchEvent(new GameEvent(GameEvent.COMPLETE,!1,!1))};a.prototype.initProgress=function(){ImagesRes.loader.on(GameEvent.PROGRESS,this.progressHandler,this)};a.prototype.progressHandler=function(c){this._progress.sourceRect.width=
c.progress*this._progressWidth;1==c.progress&&(ImagesRes.loader.removeAllEventListeners(),c=new Button(ImagesRes.BUTTON_PLAY_LC,ImagesRes.BUTTON_PLAY_OVER_LC),this.addChild(c),c.x=260,c.y=this._progress.y+65,c.on(GUIEvent.MOUSE_CLICK,this.clickHandler,this),c.swing(5))};a.prototype.clickHandler=function(c){c.currentTarget.removeAllEventListeners();Core.instance.bg.dispose([ImagesRes.PRELOADER_BAR_BG]);this.dispatchEvent(new GameEvent(GameEvent.COMPLETE,!1,!1));this.removeAllChildren();this._loader.removeAll();
this._loader=this._progress=null;createjs.Tween.removeTweens(this._vane);this._vane=null};a.prototype.addMill=function(c){void 0===c&&(c=!0);var a=this._loader.getResult(ImagesRes.UI_MILL);this._vane=new createjs.Bitmap(a);this._vane.snapToPixel=!0;this._vane.x=556+(a.width>>1);this._vane.y=572+(a.height>>1);this._vane.regX=a.width>>1;this._vane.regY=a.height>>1;this._vane.rotation=9;this.addChildAt(this._vane,1);c&&this.rotateMill()};a.prototype.rotateMill=function(){this._vane.rotation=9;createjs.Tween.get(this._vane).to({rotation:369},
2E3,createjs.Ease.linear).call(this.rotateMill,[],this)};return a}(createjs.Container),Unit=function(b){function a(c,f,d,e){b.call(this);this.mouseChildren=!1;this._view=d;this._tile=e;this._index=c;this._type=f;this._state=a.ON}__extends(a,b);a.prototype.destroy=function(){this.removeAllEventListeners();createjs.Tween.removeTweens(this);this.removeAllChildren();this._tile=this._view=null};a.prototype.stop=function(){createjs.Tween.removeTweens(this)};Object.defineProperty(a.prototype,"view",{get:function(){return this._view},
set:function(c){this._view=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return this._index},set:function(c){this._index=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"state",{get:function(){return this._state},set:function(c){this._state=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mc",{get:function(){return this._view},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bitmap",{get:function(){return this._view},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"tile",{get:function(){return this._tile},enumerable:!0,configurable:!0});a.ON="on";a.OFF="off";a.STARTED="started";return a}(createjs.Container),Trap=function(b){function a(c,a,d){b.call(this,a,d,c);this.mc.stop();this.mc.alpha=.4}__extends(a,b);return a}(Unit),TowerArrow=function(b){function a(a,f){b.call(this,f,a);this._pontIndex2=
this._pontIndex1=this._directionY=this._directionX=0;this.id=-1;this._grid=Core.instance.model.grid;this._pontIndex1=f;var d=ImagesRes.getImage(a);this.view=new createjs.Bitmap(d);this.view.snapToPixel=!0;this.addChild(this.view)}__extends(a,b);a.prototype.shoot=function(a,b){1==a?(this.view.scaleX=-1,this.view.x=this.view.getBounds().width,createjs.Tween.get(this).to({x:Config.STAGE_W+110},b,createjs.Ease.linear).call(this.endHandler,[],this)):createjs.Tween.get(this).to({x:-150},b,createjs.Ease.linear).call(this.endHandler,
[],this)};a.prototype.endHandler=function(){this.visible=!1};a.prototype.isShooted=function(){return this.visible};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._grid=null};return a}(Unit),Tower=function(b){function a(a,f,d,e){b.call(this,f,a,d,e);this._speedTime=0;this.SPEED=80;this._count=0;e.isWall=!0;d.x+=10;d.y-=15}__extends(a,b);a.prototype.init=function(a,b,d){this._grid=b;this._directionIndex=Utils.findAround(b,this.index,ImagesRes.ARROW);this._count=a;this.activate();
d[this.index]=this._arrow};a.prototype.activate=function(){this._arrow=new TowerArrow(ImagesRes.ARROW,this.index);this._arrow.snapToPixel=!0;this.view.parent.addChildAt(this._arrow,this.view.parent.getChildIndex(this.view)-1);this._arrow.visible=!1;createjs.Tween.get(this).wait(7*this._speedTime+700*this._count).call(this.shoot,[],this)};a.prototype.shoot=function(){this._arrow.x=this.view.x+3;this._arrow.y=this.view.y+20;var a=this._grid[this.index].x/Config.SIZE_W;this._arrow.visible=!0;this.index>
this._directionIndex?(this._speedTime=this.SPEED+a*this.SPEED,this._arrow.shoot(-1,this._speedTime)):(this._speedTime=(Config.WIDTH-a)*this.SPEED,this._arrow.shoot(1,this._speedTime));createjs.Tween.get(this).wait(7*this._speedTime+700*this._count).call(this.shoot,[],this)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._grid=null;this._arrow.destroy();this._arrow=null};return a}(Unit),Boulder=function(b){function a(a,f,d,e){b.call(this,f,a,d,e);e.isWall=!0;d.x+=4;d.y-=13}__extends(a,
b);a.prototype.init=function(a,b){this._grid=b;this._activeIndex=Utils.findAround(b,this.index,ImagesRes.BOULDER_MARK)};a.prototype.activate=function(){this.state=Unit.ON;this.index=this._activeIndex;createjs.Tween.get(this.bitmap).to({x:this._grid[this.index].x+4,y:this._grid[this.index].y-13},300,createjs.Ease.linear).call(this.completeHandler,[],this)};a.prototype.completeHandler=function(){this.tile.isWall=!1;this._grid[this.index].isWall=!0};a.prototype.destroy=function(){b.prototype.destroy.call(this);
this._grid=null};return a}(Unit),Hero=function(b){function a(c){b.call(this,c,ImagesRes.HERO);this.SPEED=300;this._path=[];this._directionY=this._directionX=1;this._prevState="";this._wearItems=[0,0,0];this.mouseEnabled=!1;this.state=a.IDLE;this._stateItems=a.NO_ITEMS;this._grid=Core.instance.model.grid;this.index=c;var f=this.getAnimation();a.currentView=this.view=new createjs.Sprite(f[0],f[1]);this.view.snapToPixel=!0;this.mc.framerate=15;this.x=this._grid[c].x;this.y=this._grid[c].y;this.regX=
this.view.getBounds().width>>1;this.regY=this.view.getBounds().height;this.view.x=4+Config.SIZE_W>>1;this.view.y=Config.SIZE_H-20;a.currentTween=createjs.Tween.get(this).wait(270).call(this.addHeroView,[],this)}__extends(a,b);a.prototype.addHeroView=function(){var a=this.getAnimation();this.mc.spriteSheet=a[0];this.mc.gotoAndPlay(a[1]);this.addChild(this.view)};a.prototype.stop=function(){this._path.length=0};a.prototype.moveToCell=function(a){void 0===a&&(a=null);a&&(this._path=a);a=this.index;this.index=
this._path.shift();var b=Utils.getPoint(this.index),d=this._directionY=this._directionX=0;b.y==this.y&&b.x>this.x?this._directionX=d=1:b.y==this.y&&b.x<this.x?this._directionX=d=-1:b.x==this.x&&b.y>this.y?(d=Config.WIDTH,this._directionY=1):b.x==this.x&&b.y<this.y&&(d=-Config.WIDTH,this._directionY=-1);for(;this.index!=a;)if(a+=d,this._grid[a].isContainTypes(ImagesRes.STAR)||this._grid[a].isContainType(ImagesRes.TRAP))this.index=a,this._path.length=0;this.move(!0)};a.prototype.moveCompleteHandler=
function(){this.parent.setChildIndex(this,this._grid[this.index].getFirstIndex()+1)};a.prototype.changeView=function(){if(this._prevState!=this.state){var c=this.getAnimation();this.mc.spriteSheet=c[0];this.mc.gotoAndPlay(c[1])}this._prevState=this.state;1==this._directionX?(this.view.scaleX=1,this.view.scaleY=1,this.view.x=4+Config.SIZE_W>>1):-1==this._directionX&&(this.view.scaleX=-1,this.view.scaleY=1,this.view.x=3*Config.SIZE_W/2);if(this.state==a.IDLE)this.mc.framerate=15;else if(this.state==
a.MOVE)switch(this._stateItems){case a.NO_ITEMS:this.mc.framerate=30;break;case a.ONE_HELM:this.mc.framerate=80;break;case a.ONE_SHIELD:this.mc.framerate=30;break;case a.ONE_SWORD:this.mc.framerate=30;break;case a.TWO_HELM_SHIELD:this.mc.framerate=30;break;case a.TWO_HELM_SWORD:this.mc.framerate=30;break;case a.TWO_SHIELD_SWORD:this.mc.framerate=30;break;case a.FULL:this.mc.framerate=36}else this.mc.framerate=15};a.prototype.idle=function(){if(this.state!=a.DEATH){-1!=this._directionX&&-1!=this._directionY||
this._grid[this.index].setIndex(this,!1);1!=this._directionX&&1!=this._directionY||this._grid[this.index].setIndex(this);if(this._grid[this.index].isContainTypes(ImagesRes.STAR)){var c=this._grid[this.index].getConcreteType(ImagesRes.STAR),b=this._grid[this.index].types.indexOf(c);createjs.Tween.get(this._grid[this.index].objects[b]).to({alpha:0},150,createjs.Ease.quadOut).call(this.starTweenComplete,[c],this)}else if(this._grid[this.index].isContainType(ImagesRes.TRAP))b=this._grid[this.index].types.indexOf(ImagesRes.TRAP),
b=this._grid[this.index].objects[b],b.on(GameEvent.ANIMATION_COMPLETE,this.trapAnimationComplete,this),b.gotoAndPlay(ImagesRes.A_TRAP),createjs.Tween.get(b).to({alpha:1},150,createjs.Ease.quadOut).call(this.trapTweenComplete,[c],this);else if(this._grid[this.index].isContainType(ImagesRes.EXIT)){for(c=0;3>c;c++)1==this._wearItems[c]&&(Progress.starsAllLevels[Progress.currentLevel][c]=1);0==this._wearItems[0]&&0==this._wearItems[1]&&0==this._wearItems[2]&&AchController.instance.addParam(AchController.LEVEL_WITHOUT_ITEMS);
this.levelComplete()}this.state=a.IDLE;this.dispatchEvent(new GameEvent(GameEvent.HERO_REACHED));this.changeView();this.parent.addChild(this)}};a.prototype.starTweenComplete=function(c){this._prevState=a.MOVE;this._grid[this.index].remove(c);this.reclothe(c)};a.prototype.trapTweenComplete=function(){AchController.instance.addParam(AchController.HERO_DEAD_BY_TRAP);this.dispatchEvent(new GameEvent(GameEvent.HERO_GET_TRAP))};a.prototype.trapAnimationComplete=function(c){c.currentTarget.visible=!1;c.currentTarget.removeAllEventListeners();
c.currentTarget.stop();this._prevState=a.MOVE;this._grid[this.index].remove(ImagesRes.TRAP)};a.prototype.levelComplete=function(){this.view.removeAllEventListeners();this.dispatchEvent(new GameEvent(GameEvent.LEVEL_COMPLETE,!1,!1))};a.prototype.move=function(c){void 0===c&&(c=!1);c=c?this.keepMove:this.idle;1!=this._directionX&&1!=this._directionY||this._grid[this.index].setIndex(this);this.state=a.MOVE;0==this._path.length&&this._grid[this.index].isContainType(ImagesRes.EXIT)?a.currentTween=createjs.Tween.get(this).to({x:this._grid[this.index].x+
Config.SIZE_W/2,y:this._grid[this.index].y+Config.SIZE_H-4,scaleX:0,scaleY:0,alpha:0},4*this.SPEED,createjs.Ease.linear).call(c,[],this):a.currentTween=createjs.Tween.get(this).to({x:this._grid[this.index].x,y:this._grid[this.index].y},this.SPEED,createjs.Ease.linear).call(c,[],this);this.changeView()};a.prototype.keepMove=function(){this.state!=a.DEATH&&(0==this._path.length?this.idle():(this.dispatchEvent(new GameEvent(GameEvent.HERO_ONE_CELL_AWAY)),this.moveToCell()))};a.prototype.die=function(){this.dispatchEvent(new GameEvent(GameEvent.RESTART,
!0,!1))};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._path.length=0;this._grid=this._path=null;this._wearItems.length=0;this._wearItems=null;a.currentTween=null;a.currentView=null};a.prototype.getAnimation=function(){switch(this.state){case a.IDLE:return[ImagesRes.A_HERO_IDLEs[this._stateItems].atlas,ImagesRes.A_HERO_IDLEs[this._stateItems].animation];case a.MOVE:return[ImagesRes.A_HERO_MOVEs[this._stateItems].atlas,ImagesRes.A_HERO_MOVEs[this._stateItems].animation]}return["incorrect",
"animation"]};a.prototype.reclothe=function(c){c=+c.substr(4,1);this._wearItems[c]=1;0==c?AchController.instance.addParam(AchController.HELMET_TAKED):1==c?AchController.instance.addParam(AchController.SHIELD_TAKED):2==c&&AchController.instance.addParam(AchController.SWORD_TAKED);this._wearItems[0]?this._stateItems=this._wearItems[1]?this._wearItems[2]?a.FULL:a.TWO_HELM_SHIELD:this._wearItems[2]?a.TWO_HELM_SWORD:a.ONE_HELM:this._wearItems[1]?this._stateItems=this._wearItems[2]?a.TWO_SHIELD_SWORD:a.ONE_SHIELD:
this._wearItems[2]&&(this._stateItems=a.ONE_SWORD);this.changeView()};Object.defineProperty(a.prototype,"stateItems",{get:function(){return this._stateItems},enumerable:!0,configurable:!0});a.IDLE="idle";a.MOVE="move";a.DEATH="death";a.NO_ITEMS=0;a.ONE_HELM=1;a.ONE_SHIELD=2;a.ONE_SWORD=3;a.TWO_HELM_SHIELD=4;a.TWO_HELM_SWORD=5;a.TWO_SHIELD_SWORD=6;a.FULL=7;return a}(Unit),Monster=function(b){function a(a,f,d){b.call(this,f,a);this._pontIndex2=this._pontIndex1=this._directionY=this._directionX=0;this.SPEED=
1150;this.id=-1;this._grid=Core.instance.model.grid;this.id=d;this._pontIndex1=f;this.view=new createjs.Sprite(ImagesRes.A_MONSTER.atlas,ImagesRes.A_MONSTER.animation);this.view.snapToPixel=!0;this.mc.framerate=26;this.view.regX=this.view.getBounds().width>>1;this.view.regY=this.view.getBounds().height>>1;this.x=this._grid[f].x;this.y=this._grid[f].y;this.view.x=.5*Config.SIZE_W-7;this.view.y=.5*Config.SIZE_H-7;this.addChild(this.view)}__extends(a,b);a.prototype.move=function(a,b){var d=0;if(1==this._directionX||
-1==this._directionX)d=this.SPEED*Math.abs(this._pontIndex1-this._pontIndex2);else if(1==this._directionY||-1==this._directionY)d=this.SPEED*Math.abs(this._pontIndex1-this._pontIndex2)/Config.WIDTH;createjs.Tween.get(this).to({x:a,y:b},d,createjs.Ease.linear).call(this.setDirection,[],this)};a.prototype.setDirection=function(){var a=this.index==this._pontIndex1?this._pontIndex2:this._pontIndex1,b=this._grid[a];b.y==this.y&&b.x>this.x?(this._directionX=1,this._directionY=0):b.y==this.y&&b.x<this.x?
(this._directionX=-1,this._directionY=0):b.x==this.x&&b.y>this.y?(this._directionX=0,this._directionY=1):b.x==this.x&&b.y<this.y&&(this._directionX=0,this._directionY=-1);this.changeView();this.move(b.x,b.y);this.index=a};a.prototype.changeView=function(){1==this._directionX?this.view.scaleX=-1:-1==this._directionX&&(this.view.scaleX=1)};a.prototype.setPointIndex2=function(a){this._pontIndex2=a;this.setDirection()};a.prototype.activate=function(){};a.prototype.init=function(){1!=this._directionX&&
1!=this._directionY||this._grid[this._pontIndex2].setIndex(this)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._grid=null};return a}(Unit),MillPress=function(b){function a(a,f){b.call(this,f,a);this.state=Unit.OFF;var d=ImagesRes.getImage(a),d=new createjs.Bitmap(d);d.snapToPixel=!0;this.addChild(d);this.view=d;this._grid=Core.instance.model.grid;this.x=this._grid[f].x;this.y=this._grid[f].y;d.x=7;d.y=-30;this.addMill()}__extends(a,b);a.prototype.activate=function(){this.state==
Unit.OFF&&(this.state=Unit.STARTED,this.scaleX=this.scaleY=1.2,this.x=this._grid[this.index].x-6,this.y=this._grid[this.index].y-12,createjs.Tween.get(this).wait(300).call(this.comeback,[],this))};a.prototype.comeback=function(){this.scaleX=this.scaleY=1;this.x=this._grid[this.index].x;this.y=this._grid[this.index].y};a.prototype.addMill=function(){var a=ImagesRes.getImage(ImagesRes.MILL_VANE);this._vane=new createjs.Bitmap(a);this._vane.snapToPixel=!0;this._vane.x=34;this._vane.y=-15;this._vane.rotation=
35;this._vane.regX=a.width>>1;this._vane.regY=a.height>>1;this.addChild(this._vane)};a.prototype.startRotateMill=function(){this.state!=Unit.ON&&(AchController.instance.addParam(AchController.MILL_LAUNCHED),this.state=Unit.ON,this.rotateMill())};a.prototype.rotateMill=function(){this._vane.rotation=35;createjs.Tween.get(this._vane).to({rotation:395},1700,createjs.Ease.linear).call(this.rotateMill,[],this)};a.prototype.destroy=function(){b.prototype.destroy.call(this);createjs.Tween.removeTweens(this._vane);
this._grid=this._vane=null};return a}(Unit),Spikes=function(b){function a(a,f,d,e){b.call(this,f,a,d,e);e.isWall=!0}__extends(a,b);a.prototype.init=function(){};a.prototype.activate=function(){this.state=Unit.ON;this.bitmap.image=ImagesRes.getImage(ImagesRes.SPIKES+1);this.tile.isWall=!1};return a}(Unit),Star=function(b){function a(a,f,d){b.call(this,f,d,a)}__extends(a,b);return a}(Unit),TargetMark=function(b){function a(){b.call(this);this.snapToPixel=!0;this.visible=!1;var a,f;f=ImagesRes.getImage(ImagesRes.TARGET_MARK+
0);a=new createjs.Bitmap(f);a.snapToPixel=!0;this.addChild(a);a.regX=f.width>>1;a.regY=.5*f.height-3;this._center=a;f=ImagesRes.getImage(ImagesRes.TARGET_MARK+1);a=new createjs.Bitmap(f);a.snapToPixel=!0;this.addChild(a);a.regX=f.width>>1;a.regY=.5*f.height-3;this._outer=a}__extends(a,b);a.prototype.placeByTap=function(a){var b=Core.instance.model.grid;this.x=b[a].x+.5*Config.SIZE_W+2;this.y=b[a].y+.5*Config.SIZE_H+3;this.visible=!0;this._outer.scaleX=this._outer.scaleY=.9;this._center.alpha=0;this._outer.alpha=
0;this.appear()};a.prototype.appear=function(){createjs.Tween.get(this._center).to({alpha:.8},80,createjs.Ease.quartIn);createjs.Tween.get(this._outer).to({alpha:.8,scaleX:1,scaleY:1},80,createjs.Ease.quartIn).call(this.extend,[],this)};a.prototype.extend=function(){createjs.Tween.get(this._center).to({scaleX:1.1,scaleY:1.1},80,createjs.Ease.quartOut);createjs.Tween.get(this._outer).to({scaleX:1.2,scaleY:1.2},80,createjs.Ease.quartOut).call(this.disappear,[],this)};a.prototype.disappear=function(){createjs.Tween.get(this._center).to({alpha:0,
scaleX:.9,scaleY:.9},120,createjs.Ease.quartIn);createjs.Tween.get(this._outer).to({alpha:0,scaleX:.9,scaleY:.9},120,createjs.Ease.quartIn).call(this.hide,[],this)};a.prototype.hide=function(){this.visible=!1};return a}(createjs.Container),Button=function(b){function a(a,f,d,e){void 0===d&&(d="");void 0===e&&(e="");b.call(this);this.snapToPixel=this._isActive=!0;this._typeOver=f;this._typeOut=a;this._typeOverOff=e;this._typeOutOff=d;a=ImagesRes.getImage(a);this._width=a.width;this._height=a.height;
this.bitmap=new createjs.Bitmap(a);this.addChild(this.bitmap);this.bitmap.on(GUIEvent.MOUSE_DOWN,this.overHandler,this);this.bitmap.on(GUIEvent.MOUSE_UP,this.outHandler,this);""!=d&&(this.on(GUIEvent.MOUSE_CLICK,this.clickHandler,this),this.setState(),SoundManager.instance.currentButton=this)}__extends(a,b);a.prototype.overHandler=function(a){void 0===a&&(a=null);a&&a.stopPropagation();a=this.bitmap.image.width;var b=ImagesRes.getImage(this._isActive?this._typeOver:this._typeOverOff);this.bitmap.image=
b;this.bitmap.x=a-b.width>>1};a.prototype.outHandler=function(a){void 0===a&&(a=null);a&&a.stopPropagation();this.bitmap.image=ImagesRes.getImage(this._isActive?this._typeOut:this._typeOutOff);this.bitmap.x=0;this.bitmap.y=0};a.prototype.clickHandler=function(a){this._isActive=!this._isActive;this.outHandler();SoundManager.instance.muteOnOff()};a.prototype.swing=function(a){this.skewX=a;this.moveSkew(this)};a.prototype.moveSkew=function(a){createjs.Tween.get(a,{ignoreGlobalPause:!0}).to({skewX:-a.skewX},
2E3,createjs.Ease.quadInOut).call(this.moveSkew,[a],this)};a.prototype.setState=function(){this._isActive=SoundManager.instance.isMusic;this.outHandler()};Object.defineProperty(a.prototype,"state",{get:function(){return this._isActive},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0});return a}(createjs.Container),
LevelButton=function(b){function a(a,f){b.call(this,ImagesRes.BUTTON_LS,ImagesRes.BUTTON_LS_OVER);var d,e;e=ImagesRes.getImage(ImagesRes.UI_STICK);d=new createjs.Bitmap(e);this.addChild(d);d.x=-e.width>>1;d.mouseEnabled=!1;d.snapToPixel=!0;this._swing=new createjs.Container;this.addChild(this._swing);this._swing.addChild(this.bitmap);d=new createjs.Text(a.toString(),"36px Georgia","#301213");this._swing.addChild(d);d.mouseEnabled=!1;d.snapToPixel=!0;d.regX=d.getBounds().width>>1;d.x=26;d.y=12;this._swing.x=
-this._swing.getBounds().width+8>>1;this._swing.y=3;this.addHelmet(!!f[0]);this.addShield(!!f[1]);this.addSword(!!f[2])}__extends(a,b);a.prototype.addSword=function(a){var b;b=a?ImagesRes.getImage(ImagesRes.UI_STAR_ON+"2"):ImagesRes.getImage(ImagesRes.UI_STAR_OFF+"2");a=new createjs.Bitmap(b);this.addChild(a);a.x=-45;a.y=97-b.height};a.prototype.addShield=function(a){var b;b=a?ImagesRes.getImage(ImagesRes.UI_STAR_ON+"1"):ImagesRes.getImage(ImagesRes.UI_STAR_OFF+"1");a=new createjs.Bitmap(b);this.addChild(a);
a.x=-3;a.y=97-b.height};a.prototype.addHelmet=function(a){a=a?ImagesRes.getImage(ImagesRes.UI_STAR_ON+"0"):ImagesRes.getImage(ImagesRes.UI_STAR_OFF+"0");a=new createjs.Bitmap(a);this._swing.addChild(a);a.x=-10;a.y=0};a.prototype.swing=function(a){this._swing.skewX=a;this.moveSkew(this._swing)};return a}(Button),PathNode=function(){function b(){this.index=this.totalCost=this.costToEnd=this.costToStart=this.cost=0;this.parent=null}b.prototype.calculateTotalCost=function(){this.totalCost=this.costToStart+
this.costToEnd};return b}(),Pathfinder=function(){function b(){this._grid=[];this._openList=[];this._closeList=[];this._path=[];this.NORMAL_COST=10;this.DIAGONAL_COST=10001;this.WALL_COST=10002;this.DEAR_COST=10003}b.prototype.init=function(a,b,f){this.SIZE_X=a;this.SIZE_Y=b;for(a=this._grid.length=0;a<f.length;a++)this._grid.push(new PathNode),this._grid[a].index=a,f[a].isWall?this._grid[a].cost=this.WALL_COST:f[a].isDear&&(this._grid[a].cost=this.DEAR_COST)};b.prototype.findPath=function(a,b){this._path=
[];this._openList.push(this._grid[a]);this._currentIndex=a;this._endIndex=b;this._endY=Math.floor(b/this.SIZE_X);this._endX=b-this._endY*this.SIZE_X;this.iterate()};b.prototype.iterate=function(){for(var a=this._grid[this._currentIndex],b=Math.floor(this._currentIndex/this.SIZE_X),f=this._currentIndex-b*this.SIZE_X,d=0<=f-1?f-1:0,e=f+1<this.SIZE_X?f+1:this.SIZE_X-1,g=b+1<this.SIZE_Y?b+1:this.SIZE_Y-1,h=0,k=0<=b-1?b-1:0;k<=g;k++)for(var l=d;l<=e;l++)h=k*this.SIZE_X+l,h=this._grid[h],h.cost==this.WALL_COST||
-1!=this._closeList.indexOf(h)||f!=l&&b!=k||-1!=this._openList.indexOf(h)||(this._openList.push(h),h.parent=a,h.costToStart=a.costToStart+this.getCost(f,b,l,k)+h.cost,h.costToEnd=this.getCostToEnd(l,k),h.calculateTotalCost());this.check()};b.prototype.check=function(){for(var a=0;a<this._openList.length;a++)if(-1!=this._openList.indexOf(this._grid[this._endIndex])){this._closeList.push(this._grid[this._endIndex]);this._openList.length=0;this.setPath();this._closeList.length=0;return}this._openList.sort(function(a,
b){return a.totalCost-b.totalCost});0!=this._openList.length&&(this._currentIndex=this._openList[0].index,this._closeList.push(this._openList.shift()),this.iterate())};b.prototype.setPath=function(){this._path.length=0;for(var a=this._grid[this._endIndex];a.parent;a=a.parent)this._path.unshift(a.index)};b.prototype.getCostToEnd=function(a,b){return(Math.abs(a-this._endX)+Math.abs(b-this._endY))*this.NORMAL_COST};b.prototype.getCost=function(a,b,f,d){return a!=f&&b!=d?this.DIAGONAL_COST:this.NORMAL_COST};
Object.defineProperty(b.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0});b.prototype.destroy=function(){this._grid.length=0;this._openList.length=0;this._path.length=0;this._closeList.length=0;this._closeList=this._path=this._openList=this._grid=null};return b}(),Utils=function(){function b(){}b.getIndex=function(a,b){return Math.floor(b/Config.SIZE_H)*Config.WIDTH+Math.floor(a/Config.SIZE_W)};b.getPoint=function(a){return new createjs.Point((a-Math.floor(a/Config.WIDTH)*
Config.WIDTH)*Config.SIZE_H,Math.floor(a/Config.WIDTH)*Config.SIZE_W)};b.isNeighbours=function(a,b){return a+1==b||a-1==b||a+Config.WIDTH==b||a-Config.WIDTH==b?!0:!1};b.findAround=function(a,b,f){return b+1<Config.WIDTH*Config.HEIGHT&&a[b+1].isContainType(f)?b+1:0<=b-1&&a[b-1].isContainType(f)?b-1:b+Config.WIDTH<Config.WIDTH*Config.HEIGHT&&a[b+Config.WIDTH].isContainType(f)?b+Config.WIDTH:0<=b-Config.WIDTH&&a[b-Config.WIDTH].isContainType(f)?b-Config.WIDTH:-1};b.addBitmap=function(a,b,f,d,e,g,h){void 0===
e&&(e=!1);void 0===g&&(g=0);void 0===h&&(h=!1);var k,l;f&&"string"==typeof f?(l=ImagesRes.getImage(f),k=new createjs.Bitmap(l)):f&&f instanceof HTMLImageElement?(l=f,k=new createjs.Bitmap(l)):alert("WTF addBitmap");k.snapToPixel=!0;k.mouseEnabled=e;d.addChild(k);k.x=a;k.y=b;k.rotation=g;h&&(k.regX=l.width>>1,k.regY=l.height>>1)};b.getLength=function(a){var b=0,f;for(f in a)b++;return b};return b}(),Credits=function(b){function a(){b.call(this);Core.instance.bg.addBitmaps([{type:ImagesRes.MAIN_BG,
x:0,y:0},{type:ImagesRes.CREDITS_TITLE,x:70,y:260},{type:ImagesRes.SPEAR_UI+"0",x:320,y:224}]);this.createButtons();this.addMill();var a=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_SMOKE);a.framerate=30;a.x=87;a.y=477;this.addChildAt(a,0);this._smoke=a;this.playSmoke()}__extends(a,b);a.prototype.createButtons=function(){this._buttonBack=new Button(ImagesRes.BUTTON_PLAY_LC,ImagesRes.BUTTON_PLAY_OVER_LC);this.addChild(this._buttonBack);this._buttonBack.x=520;this._buttonBack.y=40;this._buttonBack.name=
View.MAIN_MENU;this._buttonBack.scaleX=-1;this._buttonBack.swing(4)};a.prototype.playSmoke=function(){this._smoke.gotoAndPlay(ImagesRes.A_SMOKE);this._smoke.on(GameEvent.ANIMATION_COMPLETE,this.animationCompleteHandler,this)};a.prototype.animationCompleteHandler=function(a){this._smoke.removeAllEventListeners();this._smoke.stop();createjs.Tween.get(this).wait(3E3).call(this.playSmoke,[],this)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this.removeAllEventListeners();createjs.Tween.removeTweens(this);
this._smoke.removeAllEventListeners();this._smoke.stop();this._smoke=this._buttonBack=null};return a}(View),Blind=function(b){function a(){b.call(this);createjs.Tween.get(this).wait(100).call(this.addBitmap,[],this)}__extends(a,b);a.prototype.addBitmap=function(){this.dispatchEvent(new GUIEvent(GUIEvent.BLIND_CLOSED,!1,!1));createjs.Tween.get(this).wait(100).call(this.removeBitmap,[],this)};a.prototype.removeBitmap=function(){this.dispatchEvent(new GameEvent(GameEvent.COMPLETE,!1,!1))};a.prototype.destroy=
function(){};return a}(createjs.Container),Achievements=function(b){function a(){b.call(this);Core.instance.bg.addBitmaps([{type:ImagesRes.GAME_BG,x:0,y:0},{type:ImagesRes.ACHIEVEMENS_TITLE,x:174,y:210},{type:ImagesRes.SPEAR_UI+"2",x:105,y:788}]);this.createIcons();this.createButtons();this.createHint();this.addMill();this.vane.y+=99;var a=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_SMOKE);a.framerate=30;a.x=87;a.y=576;this.addChildAt(a,0);this._smoke=a;this.playSmoke();this.on(GUIEvent.MOUSE_DOWN,
this.movedownHandler,this)}__extends(a,b);a.prototype.movedownHandler=function(a){null==a.target.name||""==a.target.name||void 0==a.target.name?this._hint.visible=!1:(this._hint.visible=!0,this._hint.x=a.target.x+20,this._hint.y=a.target.y+20,this._text.text=Progress.hintAchs[+a.target.name],a=this._hint.getChildAt(0),a.graphics.clear(),a.graphics.beginFill("#C99953"),a.graphics.drawRect(0,0,this._text.getBounds().width+20,this._text.getBounds().height+10),a.graphics.endFill())};a.prototype.createIcons=
function(){for(var a,b,d,e,g,h=0;h<Progress.achs.length;h++)e=h%2,g=(h-e)/2,d=ImagesRes.getImage(ImagesRes.ICON_ACH+h),a=new createjs.Bitmap(d),Progress.achs[h]||(b=(new createjs.ColorMatrix).adjustBrightness(-60).adjustSaturation(-50),a.filters=[new createjs.ColorMatrixFilter(b)],a.cache(0,0,d.width,d.height)),this.addChild(a),a.x=35+e*(d.width+220),a.y=120+g*(d.height+8),a.snapToPixel=!0,a.name=h.toString(),d=ImagesRes.getImage(ImagesRes.TEXT_ACH+h),a=new createjs.Bitmap(d),this.addChild(a),a.x=
115+293*e,a.y=153+80*g-.5*d.height,a.snapToPixel=!0,a.name=h.toString()};a.prototype.createHint=function(){this._hint=new createjs.Container;this.addChild(this._hint);this._hint.visible=!1;var a=new createjs.Graphics,a=new createjs.Shape(a);this._hint.addChild(a);this._text=new createjs.Text("empty","16px Georgia","#582415");this._hint.addChild(this._text);this._text.snapToPixel=!0;this._text.mouseEnabled=!1;this._text.x=10;this._text.y=5};a.prototype.createButtons=function(){this._buttonBack=new Button(ImagesRes.BUTTON_PLAY_LC,
ImagesRes.BUTTON_PLAY_OVER_LC);this.addChild(this._buttonBack);this._buttonBack.x=440;this._buttonBack.y=600;this._buttonBack.name=View.MAIN_MENU;this._buttonBack.scaleX=-1;this._buttonBack.swing(4)};a.prototype.playSmoke=function(){this._smoke.gotoAndPlay(ImagesRes.A_SMOKE);this._smoke.on(GameEvent.ANIMATION_COMPLETE,this.animationCompleteHandler,this)};a.prototype.animationCompleteHandler=function(a){this._smoke.removeAllEventListeners();this._smoke.stop();createjs.Tween.get(this).wait(3E3).call(this.playSmoke,
[],this)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this.removeAllEventListeners();createjs.Tween.removeTweens(this);this._smoke.removeAllEventListeners();this._smoke.stop();this._text=this._hint=this._smoke=this._buttonBack=null};return a}(View),Intro=function(b){function a(){b.call(this);this._frames=[];Core.instance.bg.addBitmaps([{type:ImagesRes.GAME_BG,x:0,y:0},{type:ImagesRes.SPEAR_UI+"2",x:105,y:788}]);this.createFrames();this.createButtons();this.addMill();this.vane.y+=
99}__extends(a,b);a.prototype.createFrames=function(){var a;this._startingPositions=[{x:27,y:2},{x:328,y:20},{x:27,y:302}];a=new createjs.Bitmap(ImagesRes.getImage(ImagesRes.INTRO_ICON+0));this.addChild(a);a.x=this._startingPositions[0].x;a.y=this._startingPositions[0].y;this._frames.push(a);a.alpha=0;a=new createjs.Bitmap(ImagesRes.getImage(ImagesRes.INTRO_ICON+1));this.addChild(a);a.x=this._startingPositions[1].x;a.y=this._startingPositions[1].y;this._frames.push(a);a.alpha=0;a=new createjs.Bitmap(ImagesRes.getImage(ImagesRes.INTRO_ICON+
2));this.addChild(a);a.x=this._startingPositions[2].x;a.y=this._startingPositions[2].y;this._frames.push(a);a.alpha=0;this.showNext(0);this.on(GUIEvent.MOUSE_CLICK,this.clickIntroHandler,this)};a.prototype.createButtons=function(){this._buttonNext=new Button(ImagesRes.BUTTON_PLAY_LC,ImagesRes.BUTTON_PLAY_OVER_LC);this.addChild(this._buttonNext);this._buttonNext.y=600;this._buttonNext.x=Config.STAGE_W-this._buttonNext.width>>1;this._buttonNext.name=View.GAME;this._buttonNext.swing(4)};a.prototype.clickIntroHandler=
function(a){if(this._frames)for(a=0;a<this._frames.length;a++)if(1!=this._frames[a].alpha){createjs.Tween.removeTweens(this._frames[a]);this._frames[a].alpha=1;this.showNext(a+1);break}};a.prototype.showNext=function(a){this._frames&&this._frames.length>a&&createjs.Tween.get(this._frames[a]).to({alpha:1},500,createjs.Ease.linear).wait(1500).call(this.showNext,[a+1],this)};a.prototype.destroy=function(){b.prototype.destroy.call(this);for(var a=0;a<this._frames.length;a++)createjs.Tween.removeTweens(this._frames[a]);
this._frames.length=0;this._startingPositions=this._buttonNext=this._frames=null};return a}(View),Levels=function(b){function a(){b.call(this);this._coords={0:[64,108],1:[168,149],2:[263,118],3:[364,133],4:[549,116],5:[465,156],6:[37,217],7:[118,292],8:[223,263],9:[351,263],10:[463,284],11:[558,264],12:[79,402],13:[193,376],14:[302,374],15:[425,391],16:[541,406],17:[343,483],18:[440,546],19:[548,531]};Core.instance.bg.addBitmaps([{type:ImagesRes.LEVELS_BG,x:0,y:0},{type:ImagesRes.LEVEL_SELECT_TITLE,
x:90,y:230},{type:ImagesRes.SPEAR_UI+"2",x:-100,y:788}]);this.createButtons()}__extends(a,b);a.prototype.createButtons=function(){for(var a,b=0;b<Progress.starsAllLevels.length;b++)b<Progress.levelsCompleted&&(a=new LevelButton(b+1,Progress.starsAllLevels[b]),this.addChild(a),a.x=this._coords[b][0]+20,a.y=this._coords[b][1]+90,a.name=b.toString(),a.snapToPixel=!0,b==Progress.levelsCompleted-1&&a.swing(5));this._buttonBack=new Button(ImagesRes.BUTTON_PLAY_LC,ImagesRes.BUTTON_PLAY_OVER_LC);this.addChild(this._buttonBack);
this._buttonBack.x=220;this._buttonBack.y=600;this._buttonBack.name=View.MAIN_MENU;this._buttonBack.scaleX=-1;this._buttonBack.swing(4)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._coords=this._buttonBack=null};return a}(View),MainMenu=function(b){function a(){b.call(this);Core.instance.bg.addBitmaps([{type:ImagesRes.MAIN_BG,x:0,y:0},{type:ImagesRes.MAIN_TITLE,x:50,y:350},{type:ImagesRes.SPEAR_UI+"0",x:292,y:280},{type:ImagesRes.SPEAR_UI+"1",x:25,y:550}]);this.createButtons()}
__extends(a,b);a.prototype.createButtons=function(){this._buttonSound=new Button(ImagesRes.BUTTON_SOUND_ON,ImagesRes.BUTTON_SOUND_ON_OVER,ImagesRes.BUTTON_SOUND_OFF,ImagesRes.BUTTON_SOUND_OFF_OVER);this.addChild(this._buttonSound);this._buttonSound.x=535;this._buttonSound.y=103;this._buttonSound.name="";this._buttonMore=new Button(ImagesRes.BUTTON_MORE_MAIN,ImagesRes.BUTTON_MORE_OVER_MAIN);this.addChild(this._buttonMore);this._buttonMore.x=390;this._buttonMore.y=370;this._buttonMore.name="";this._buttonPlay=
new Button(ImagesRes.BUTTON_PLAY_MAIN,ImagesRes.BUTTON_PLAY_OVER_MAIN);this.addChild(this._buttonPlay);this._buttonPlay.x=230;this._buttonPlay.y=374;this._buttonPlay.name=View.LEVELS;this._buttonCredits=new Button(ImagesRes.BUTTON_CREDITS,ImagesRes.BUTTON_CREDITS_OVER);this.addChild(this._buttonCredits);this._buttonCredits.x=420;this._buttonCredits.y=95;this._buttonCredits.name=View.CREDITS;this._buttonAchs=new Button(ImagesRes.BUTTON_ACH,ImagesRes.BUTTON_ACH_OVER);this.addChild(this._buttonAchs);
this._buttonAchs.x=100;this._buttonAchs.y=380;this._buttonAchs.name=View.ACHS;this._buttonSound.swing(5);this._buttonCredits.swing(5);this._buttonAchs.swing(4);this._buttonPlay.swing(4);this._buttonMore.swing(4);this.addMill();var a=new createjs.Sprite(JSONRes.atlas1,ImagesRes.A_SMOKE);a.framerate=30;a.x=87;a.y=477;this.addChild(a);this._smoke=a;this.playSmoke()};a.prototype.playSmoke=function(){this._smoke.gotoAndPlay(ImagesRes.A_SMOKE);this._smoke.on(GameEvent.ANIMATION_COMPLETE,this.animationCompleteHandler,
this)};a.prototype.animationCompleteHandler=function(a){this._smoke.removeAllEventListeners();this._smoke.stop();createjs.Tween.get(this).wait(3E3).call(this.playSmoke,[],this)};a.prototype.destroy=function(){createjs.Tween.removeTweens(this);this._smoke.removeAllEventListeners();this._smoke.stop();b.prototype.destroy.call(this);this._smoke=this._buttonAchs=this._buttonSound=this._buttonPlay=this._buttonMore=this._buttonCredits=null};return a}(View),PopupGame=function(b){function a(a){b.call(this);
this._game=a;this.createButtons();this.on(GUIEvent.MOUSE_CLICK,this.clickHandler,this);createjs.Ticker.setPaused(!0)}__extends(a,b);a.prototype.createBgs=function(){var a;a=ImagesRes.getImage(ImagesRes.VICTORY_TOP);a=new createjs.Bitmap(a);a.snapToPixel=!0;Core.instance.bg.addChild(a);this._top=a;a=ImagesRes.getImage(ImagesRes.VICTORY_BOTTOM);a=new createjs.Bitmap(a);a.snapToPixel=!0;a.y=Config.PADDING+Config.STAGE_H_MIN;Core.instance.bg.addChild(a);this._bottom=a;Core.instance.bg.update()};a.prototype.clickHandler=
function(a){a.stopPropagation();if(a.target.parent instanceof Button){if(a.target.parent.name){Hero.currentView=null;Hero.currentTween=null;var b;a.target.parent.name==View.MAIN_MENU||a.target.parent.name==View.LEVELS?(b=new GUIEvent(GUIEvent.GOTO_WINDOW),b.window=a.target.parent.name,this._game.dispatchEvent(b)):a.target.parent.name==GameEvent.RESTART?(b=new GameEvent(GameEvent.RESTART),b.objectType=a.target.parent.name,this._game.dispatchEvent(b)):a.target.parent.name==GameEvent.LEVEL_COMPLETE&&
(b=new GameEvent(GameEvent.LEVEL_COMPLETE),b.objectType=a.target.parent.name,this._game.dispatchEvent(b))}createjs.Ticker.setPaused(!1);this.hide()}};a.prototype.createButtons=function(a,b,d){void 0===a&&(a=445);void 0===b&&(b=430);void 0===d&&(d=430);this.buttonPlay=new Button(ImagesRes.BUTTON_PLAY_LC,ImagesRes.BUTTON_PLAY_OVER_LC);this.addChild(this.buttonPlay);this.buttonPlay.y=a;this.buttonPlay.x=Config.STAGE_W-this.buttonPlay.width+40>>1;this.buttonPlay.name=View.LEVELS;createjs.Tween.get(this.buttonPlay,
{ignoreGlobalPause:!0}).wait(500).from({alpha:0,y:a-20},250,createjs.Ease.backOut);this._buttonReset=new Button(ImagesRes.BUTTON_RESET,ImagesRes.BUTTON_RESET_OVER);this.addChild(this._buttonReset);this._buttonReset.y=b;this._buttonReset.x=this.buttonPlay.x-120;this._buttonReset.name=GameEvent.RESTART;createjs.Tween.get(this._buttonReset,{ignoreGlobalPause:!0}).wait(200).from({alpha:0,y:b-20},250,createjs.Ease.backOut);this._buttonMenu=new Button(ImagesRes.BUTTON_MENU,ImagesRes.BUTTON_MENU_OVER);this.addChild(this._buttonMenu);
this._buttonMenu.y=d;this._buttonMenu.x=this.buttonPlay.x+140;this._buttonMenu.name=View.LEVELS;createjs.Tween.get(this._buttonMenu,{ignoreGlobalPause:!0}).wait(350).from({alpha:0,y:d-20},250,createjs.Ease.backOut);this.buttonPlay.swing(4);this._buttonReset.swing(4);this._buttonMenu.swing(4)};a.prototype.startPause=function(){createjs.Ticker.setPaused(!0)};a.prototype.hide=function(){this.parent.removeChild(this);this.destroy()};a.prototype.destroy=function(){Core.instance.bg.removeChild(this._top);
Core.instance.bg.removeChild(this._bottom);Core.instance.bg.update();this.removeAllEventListeners();this.removeAllChildren();this._bottom=this._top=this._game=this._buttonMenu=this.buttonPlay=this._buttonReset=null};return a}(createjs.Container),GameVictory=function(b){function a(a){b.call(this,a);a=ImagesRes.getImage(ImagesRes.FINISH_MID);a=new createjs.Bitmap(a);a.snapToPixel=!0;this.addChildAt(a,0);a.alpha=0;createjs.Tween.get(a,{ignoreGlobalPause:!0}).to({alpha:1},300,createjs.Ease.linear);createjs.Tween.get(this,
{ignoreGlobalPause:!0}).wait(150).call(this.createBgs,[],this);this.createStars()}__extends(a,b);a.prototype.createStars=function(){var a,b;1==Progress.starsAllLevels[Progress.currentLevel][0]&&(b=ImagesRes.getImage(ImagesRes.STAR+"0"),a=new createjs.Bitmap(b),a.snapToPixel=!0,this.addChild(a),a.regX=b.width>>1,a.regY=b.height>>1,a.x=308+a.regX,a.y=385+a.regY,createjs.Tween.get(a,{ignoreGlobalPause:!0}).wait(500).from({alpha:0,scaleX:2,scaleY:2,y:a.y-50},500,createjs.Ease.quartOut));1==Progress.starsAllLevels[Progress.currentLevel][1]&&
(b=ImagesRes.getImage(ImagesRes.STAR+"1"),a=new createjs.Bitmap(b),a.snapToPixel=!0,this.addChild(a),a.regX=b.width>>1,a.regY=b.height>>1,a.x=281+a.regX,a.y=314+a.regY,createjs.Tween.get(a,{ignoreGlobalPause:!0}).wait(750).from({alpha:0,scaleX:2,scaleY:2,y:a.y-50},500,createjs.Ease.quartOut));1==Progress.starsAllLevels[Progress.currentLevel][2]&&(b=ImagesRes.getImage(ImagesRes.STAR+"2"),a=new createjs.Bitmap(b),a.snapToPixel=!0,this.addChild(a),a.regX=b.width>>1,a.regY=b.height>>1,a.x=347+a.regX,
a.y=315+a.regY,createjs.Tween.get(a,{ignoreGlobalPause:!0}).wait(250).from({alpha:0,scaleX:2,scaleY:2,y:a.y-50},500,createjs.Ease.quartOut))};a.prototype.createButtons=function(){b.prototype.createButtons.call(this,463,457,468)};return a}(PopupGame),Victory=function(b){function a(a){b.call(this,a);a=ImagesRes.getImage(ImagesRes.VICTORY_MID);a=new createjs.Bitmap(a);a.snapToPixel=!0;this.addChildAt(a,0);a.alpha=0;createjs.Tween.get(a,{ignoreGlobalPause:!0}).to({alpha:1},300,createjs.Ease.linear);createjs.Tween.get(this,
{ignoreGlobalPause:!0}).wait(150).call(this.createBgs,[],this);this.addMill();this.createStars();Core.instance.model.saveProgress()}__extends(a,b);a.prototype.createStars=function(){var a,b;1==Progress.starsAllLevels[Progress.currentLevel][0]&&(b=ImagesRes.getImage(ImagesRes.STAR+"0"),a=new createjs.Bitmap(b),a.snapToPixel=!0,this.addChild(a),a.regX=b.width>>1,a.regY=b.height>>1,a.x=308+a.regX,a.y=385+a.regY,createjs.Tween.get(a,{ignoreGlobalPause:!0}).wait(500).from({alpha:0,scaleX:2,scaleY:2,y:a.y-
50},500,createjs.Ease.quartOut));1==Progress.starsAllLevels[Progress.currentLevel][1]&&(b=ImagesRes.getImage(ImagesRes.STAR+"1"),a=new createjs.Bitmap(b),a.snapToPixel=!0,this.addChild(a),a.regX=b.width>>1,a.regY=b.height>>1,a.x=281+a.regX,a.y=314+a.regY,createjs.Tween.get(a,{ignoreGlobalPause:!0}).wait(750).from({alpha:0,scaleX:2,scaleY:2,y:a.y-50},500,createjs.Ease.quartOut));1==Progress.starsAllLevels[Progress.currentLevel][2]&&(b=ImagesRes.getImage(ImagesRes.STAR+"2"),a=new createjs.Bitmap(b),
a.snapToPixel=!0,this.addChild(a),a.regX=b.width>>1,a.regY=b.height>>1,a.x=347+a.regX,a.y=315+a.regY,createjs.Tween.get(a,{ignoreGlobalPause:!0}).wait(250).from({alpha:0,scaleX:2,scaleY:2,y:a.y-50},500,createjs.Ease.quartOut));Progress.starsAllLevels.length>Progress.levelsCompleted&&Progress.currentLevel+1==Progress.levelsCompleted&&Progress.levelsCompleted++};a.prototype.addMill=function(a){void 0===a&&(a=!0);var b=ImagesRes.getImage(ImagesRes.MILL_VANE);this._vane=new createjs.Bitmap(b);this._vane.snapToPixel=
!0;this._vane.x=475;this._vane.y=147;this._vane.regX=b.width>>1;this._vane.regY=b.height>>1;this._vane.rotation=45;this.addChild(this._vane);a&&this.rotateMill()};a.prototype.rotateMill=function(){this._vane.rotation=45;createjs.Tween.get(this._vane,{ignoreGlobalPause:!0}).to({rotation:395},2E3,createjs.Ease.linear).call(this.rotateMill,[],this)};a.prototype.createButtons=function(){b.prototype.createButtons.call(this,463,457,468);this.buttonPlay.name=GameEvent.LEVEL_COMPLETE};a.prototype.destroy=
function(){b.prototype.destroy.call(this);createjs.Tween.removeTweens(this._vane);this._vane=null};return a}(PopupGame);